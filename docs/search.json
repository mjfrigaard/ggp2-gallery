[
  {
    "objectID": "amt/cleveland_dot_plots.html",
    "href": "amt/cleveland_dot_plots.html",
    "title": "Cleveland Dot Plot",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nA Cleveland dot plot displays differences in a numerical variable for different levels of a categorical variable.\nTypically, the graph contains two points representing the numerical value on the y axis, differentiated by color. A line connecting the two points represents the difference between the two categorical levels (the width of the line is the size of the difference)."
  },
  {
    "objectID": "amt/cleveland_dot_plots.html#getting-set-up",
    "href": "amt/cleveland_dot_plots.html#getting-set-up",
    "title": "Cleveland Dot Plot",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove missing values from sex and flipper_length_mm and group on sex and island to the calculate the median flipper length (med_flip_length_mm).\n\n\n\n\nCode\npeng_clev_dots <- palmerpenguins::penguins |>\n    dplyr::filter(!is.na(sex) & !is.na(flipper_length_mm)) |>\n    dplyr::group_by(sex, island) |>\n    dplyr::summarise(\n        med_flip_length_mm = median(flipper_length_mm)\n        ) |>\n    dplyr::ungroup()\nglimpse(peng_clev_dots)\n\n\nRows: 6\nColumns: 3\n$ sex                <fct> female, female, female, male, male, male\n$ island             <fct> Biscoe, Dream, Torgersen, Biscoe, Dream, Torgersen\n$ med_flip_length_mm <dbl> 210, 190, 189, 219, 196, 195"
  },
  {
    "objectID": "amt/cleveland_dot_plots.html#the-grammar",
    "href": "amt/cleveland_dot_plots.html#the-grammar",
    "title": "Cleveland Dot Plot",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap the med_flip_length_mm to the x axis, and island to the y axis, but wrap island in forcats::fct_rev().\nAdd geom_line(), and map island to the group aesthetic. Set the linewidth to 0.75\nAdd geom_point() and map sex to color aesthetic. Set the size to 2.25\n\n\n\n\nCode\nlabs_clev_dots <- labs(\n    title = \"Flipper Length Differences\",\n    subtitle = \"Male and female penguins\",\n    x = \"Median Flipper Length\",\n    y = \"Island\",\n    color = \"Sex\"\n)\n\nggp2_clev_dots <- ggplot(data = peng_clev_dots,\n                mapping = aes(x = med_flip_length_mm, \n                              y = fct_rev(island))) +\n                geom_line(aes(group = island), \n                    linewidth = 0.75) + \n                geom_point(aes(color = sex), \n                    size = 2.25) \n\nggp2_clev_dots + \n    labs_clev_dots\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "amt/cleveland_dot_plots.html#more-info",
    "href": "amt/cleveland_dot_plots.html#more-info",
    "title": "Cleveland Dot Plot",
    "section": "More info",
    "text": "More info\nCleveland dot plots are also helpful when comparing multiple differences on a common scale.\n\nDataGraph\n\n\n\nDATA:\n\n\nRemove missing values from sex, bill_length_mm and bill_depth_mm, and group on sex and island to the calculate the median bill length and median bill depth. These variables need to have ‘showtime-ready’ names because they’ll be used in our facets. After un-grouping the data, pivot the new columns into a long (tidy) format with median_measure containing the name of the variable, and median_value containing the numbers.\nFinally, convert median_measure into a factor.\n\n\n\n\nCode\npeng_clev_dots2 <- palmerpenguins::penguins |>\n    dplyr::filter(!is.na(sex) & \n            !is.na(bill_length_mm) & \n                !is.na(bill_depth_mm)) |>\n    dplyr::group_by(sex, island) |>\n    dplyr::summarise(\n        `Median Bill Length` = median(bill_length_mm),\n        `Median Bill Depth` = median(bill_depth_mm)) |>\n    dplyr::ungroup() |> \n    tidyr::pivot_longer(cols = starts_with(\"Med\"), \n        names_to = \"median_measure\", \n        values_to = \"median_value\") |> \n    dplyr::mutate(median_measure = factor(median_measure))\nglimpse(peng_clev_dots2)\n\n\nRows: 12\nColumns: 4\n$ sex            <fct> female, female, female, female, female, female, male, m…\n$ island         <fct> Biscoe, Biscoe, Dream, Dream, Torgersen, Torgersen, Bis…\n$ median_measure <fct> Median Bill Length, Median Bill Depth, Median Bill Leng…\n$ median_value   <dbl> 44.90, 14.50, 42.50, 17.80, 37.60, 17.45, 48.50, 16.00,…\n\n\n\n\n\n\nGRAPH:\n\n\nRe-create labels\nMap the median_value to the x axis, and island to the y axis, but wrap island in forcats::fct_rev().\nAdd geom_line(), and map island to the group aesthetic. Set the linewidth to 0.75\nAdd geom_point() and map sex to color aesthetic. Set the size to 2.25\nAdd facet_wrap() and facet by median_measure, setting shrink to TRUE and scales to \"free_x\"\n\n\n\n\nCode\nlabs_clev_dots2 <- labs(\n    title = \"Penguin Measurements Differences\",\n    subtitle = \"Male and female penguins\",\n    x = \"Median Bill Length/Depth (mm)\",\n    y = \"Island\",\n    color = \"Sex\"\n)\n\nggp2_clev_dots2 <- ggplot(data = peng_clev_dots2,\n                mapping = aes(x = median_value, \n                              y = fct_rev(island))) +\n                    geom_line(aes(group = island), \n                        linewidth = 0.75) +\n                    geom_point(aes(color = sex), \n                        size = 2.25) +\n                    facet_wrap(. ~ median_measure, \n                        shrink = TRUE, \n                        scales = \"free_x\")\n\nggp2_clev_dots2 +\n    labs_clev_dots2"
  },
  {
    "objectID": "amt/waffle_chart.html",
    "href": "amt/waffle_chart.html",
    "title": "Waffle charts",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nWaffle charts use color to display the levels that make up the values in a categorical variable. The counts for each level are divided into separate colors into a square or grid display.\nWaffle chart legends should be positioned on top or bottom and justified horizontally to preserve shape and improve readability.\nWe’ll build a waffle chart using the ggwaffle package."
  },
  {
    "objectID": "amt/waffle_chart.html#getting-set-up",
    "href": "amt/waffle_chart.html#getting-set-up",
    "title": "Waffle charts",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ndevtools::install_github(\"liamgilbey/ggwaffle\")\nlibrary(ggwaffle)\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nWaffle charts require a special data transformation with ggwaffle::waffle_iron()\nSet the group argument in ggwaffle::aes_d() as the categorical variable you want to see the relative counts for:\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\npenguins <- dplyr::mutate(penguins, \n              species = as.character(species))\nwaffle_peng <- ggwaffle::waffle_iron(penguins,\n                      aes_d(group = species))\n\nglimpse(waffle_peng)\n\n\nRows: 344\nColumns: 3\n$ y     <int> 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 6…\n$ x     <int> 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3…\n$ group <chr> \"Adelie\", \"Adelie\", \"Adelie\", \"Adelie\", \"Adelie\", \"Adelie\", \"Ade…"
  },
  {
    "objectID": "amt/waffle_chart.html#the-grammar",
    "href": "amt/waffle_chart.html#the-grammar",
    "title": "Waffle charts",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap the x and y to the x and y axes\nMap group to fill\nAdd ggwaffle::geom_waffle()\nAdd ggwaffle::theme_waffle()\nMove the legend to the top with theme(legend.position = \"top\")\n\n\n\n\nCode\nlabs_waffle <- labs(\n  title = \"Waffle chart of palmer penguin species\",\n  x = \"\", y = \"\", fill = \"Species\")\nggp2_waffle <- ggplot(data = waffle_peng, \n       aes(x = x, \n           y = y, \n           fill = group)) + \n  ggwaffle::geom_waffle() +\n  theme(legend.position = \"top\")\nggp2_waffle + \n  labs_waffle +\n  ggwaffle::theme_waffle()\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "amt/overlapping_bar_graphs.html",
    "href": "amt/overlapping_bar_graphs.html",
    "title": "Overlapping bar-graphs",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nIf we’d like to use two set of overlapping bars to display numerical values for different categorical variable levels, we can use the fill argument in geom_bar() or geom_col()\nThis results in bars differentiated by color and ‘stacked’ on top of each other."
  },
  {
    "objectID": "amt/overlapping_bar_graphs.html#getting-set-up",
    "href": "amt/overlapping_bar_graphs.html#getting-set-up",
    "title": "Overlapping bar-graphs",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove missing species from penguins and filter the data to only penguins on \"Dream\" island.\n\n\n\n\nCode\npenguins_ovrlp <- filter(penguins,\n                      !is.na(species) & \n                            island == \"Dream\")\nglimpse(penguins_ovrlp)\n\n\nRows: 124\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Dream, Dream, Dream, Dream, Dream, Dream, Dream, Dre…\n$ bill_length_mm    <dbl> 39.5, 37.2, 39.5, 40.9, 36.4, 39.2, 38.8, 42.2, 37.6…\n$ bill_depth_mm     <dbl> 16.7, 18.1, 17.8, 18.9, 17.0, 21.1, 20.0, 18.5, 19.3…\n$ flipper_length_mm <int> 178, 178, 188, 184, 195, 196, 190, 180, 181, 184, 18…\n$ body_mass_g       <int> 3250, 3900, 3300, 3900, 3325, 4150, 3950, 3550, 3300…\n$ sex               <fct> female, male, female, male, female, male, male, fema…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "amt/overlapping_bar_graphs.html#the-grammar",
    "href": "amt/overlapping_bar_graphs.html#the-grammar",
    "title": "Overlapping bar-graphs",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap flipper_length_mm to the x and species to fill\nAdd the geom_bar() layer\n\n\n\n\nCode\nlabs_bar_ovrlp <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Penguins on Dream island\",\n  x = \"Flipper length (millimeters)\",\n  y = \"Count\",\n  fill = \"Species\")\nggp2_bar_ovrlp <- ggplot(data = penguins_ovrlp,\n          aes(x = flipper_length_mm, fill = species)) +\n                geom_bar() \nggp2_bar_ovrlp + \n  labs_bar_ovrlp\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "amt/overlapping_bar_graphs.html#more-info",
    "href": "amt/overlapping_bar_graphs.html#more-info",
    "title": "Overlapping bar-graphs",
    "section": "More info",
    "text": "More info\ngeom_bar() has additional options for arranging overlapping bars. We can set the position argument to \"dodge\" or \"dodge2, depending on how we’d like the data displayed.\n\nDatadodgedodge2Compare\n\n\n\nDATA:\n\n\nWe’ll be using the penguins_dodge dataset (with missing values removed from species and sex, and limited to \"Dream\" island)\n\n\n\n\nCode\npenguins_dodge <- filter(penguins,\n                      !is.na(species) & \n                        !is.na(sex) &\n                            island == \"Dream\")\nglimpse(penguins_dodge)\n\n\nRows: 123\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Dream, Dream, Dream, Dream, Dream, Dream, Dream, Dre…\n$ bill_length_mm    <dbl> 39.5, 37.2, 39.5, 40.9, 36.4, 39.2, 38.8, 42.2, 37.6…\n$ bill_depth_mm     <dbl> 16.7, 18.1, 17.8, 18.9, 17.0, 21.1, 20.0, 18.5, 19.3…\n$ flipper_length_mm <int> 178, 178, 188, 184, 195, 196, 190, 180, 181, 184, 18…\n$ body_mass_g       <int> 3250, 3900, 3300, 3900, 3325, 4150, 3950, 3550, 3300…\n$ sex               <fct> female, male, female, male, female, male, male, fema…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n\n\n\n\n\n\ndodge:\n\n\n\n\nposition = \"dodge\" preserves the vertical position of a geom while adjusting the horizontal position\nrequires the grouping variable to be be specified in the global or ⁠geom_⁠ layer\n\n\nCreate labels\nMap species to the x and island to group and fill\nInside the geom_bar() function, set position to \"dodge\"\n\n\n\n\nCode\nlabs_bar_dodge <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Penguins on Dream island\",\n  x = \"Sex\",\n  y = \"Count\",\n  fill = \"Species\",\n  caption = \"position = 'dodge'\")\nggp2_bar_dodge <- ggplot(data = penguins_dodge,\n                    aes(x = sex, \n                        group = species, \n                        fill = species)) +\n                    geom_bar(\n                        position = \"dodge\")\nggp2_bar_dodge +\n  labs_bar_dodge\n\n\n\n\n\n\n\n\n\n\n\n\n\ndodge2:\n\n\n\n\nworks without a grouping variable in a layer\nworks with bars and rectangles\nuseful for arranging graphs with variable widths.\n\n\nCreate labels\nMap species to x and island to fill\nInside geom_bar(), set position to \"dodge2\"\n\n\n\n\nCode\nlabs_bar_dodge2 <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Penguins on Dream island\",\n  x = \"Sex\",\n  y = \"Count\",\n  fill = \"Species\",\n  caption = \"position = 'dodge2'\")\nggp2_bar_dodge2 <- ggplot(data = penguins_dodge,\n                    aes(x = sex, \n                        fill = species)) +\n                    geom_bar(\n                        position = \"dodge2\")\nggp2_bar_dodge2 +\n  labs_bar_dodge2\n\n\n\n\n\n\n\n\n\n\n\n\n\nCOMPARE:"
  },
  {
    "objectID": "amt/grp_bar_graphs.html",
    "href": "amt/grp_bar_graphs.html",
    "title": "Grouped bar-graphs",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\ngeom_col() allows us to display ‘grouped’ numerical values across levels (or groups) of a categorical variable. Grouped bar-graphs assume the statistical measure (i.e., the value that the length of the bars will be derived from) is contained in a variable and mapped to the x or y aesthetic."
  },
  {
    "objectID": "amt/grp_bar_graphs.html#getting-set-up",
    "href": "amt/grp_bar_graphs.html#getting-set-up",
    "title": "Grouped bar-graphs",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove the missing values and reduce the palmerpenguins::penguins dataset to only body_mass_g and island, then group the data by island and calculate the mean body_mass_g (as avg_body_mass_g).\n\n\n\n\nCode\npeng_grp_col <- palmerpenguins::penguins |>\n    dplyr::select(body_mass_g, island) |> \n    tidyr::drop_na() |> \n    dplyr::group_by(island) |>\n    dplyr::summarise(\n        avg_body_mass_g = mean(body_mass_g)\n        ) |>\n    dplyr::ungroup()\nglimpse(peng_grp_col)\n\n\nRows: 3\nColumns: 2\n$ island          <fct> Biscoe, Dream, Torgersen\n$ avg_body_mass_g <dbl> 4716.018, 3712.903, 3706.373"
  },
  {
    "objectID": "amt/grp_bar_graphs.html#the-grammar",
    "href": "amt/grp_bar_graphs.html#the-grammar",
    "title": "Grouped bar-graphs",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap island to the x and avg_body_mass_g to the y\nMap island to fill inside the aes() of geom_col()\n\n\n\n\nCode\nlabs_grp_col <- labs(\n    title = \"Average Penguin Mass\",\n    subtitle = \"What's the average mass of penguins per Island?\",\n    x = \"Island\",\n    y = \"Average penguin body mass (g)\")\nggp2_grp_col <- ggplot(data = peng_grp_col,\n              aes(x = island, \n                  y = avg_body_mass_g)) + \n        geom_col(aes(fill = island),\n            show.legend = FALSE)\nggp2_grp_col + \n    labs_grp_col\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "amt/heatmaps.html",
    "href": "amt/heatmaps.html",
    "title": "Heatmaps",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nHeatmaps display quantitative values across an intersection of two categorical (or discrete) variables.\nThe intersecting cells contain variations of color saturation (i.e., the grade of purity or vividness) to represent the numerical values between groups.\nHeatmap legends should be positioned on top or bottom and justified horizontally to preserve shape and improve readability."
  },
  {
    "objectID": "amt/heatmaps.html#getting-set-up",
    "href": "amt/heatmaps.html#getting-set-up",
    "title": "Heatmaps",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"fivethirtyeight\")\nlibrary(fivethirtyeight) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\n\n\nFor the heatmap, we’re going to re-structure and filter the bob_ross data from the fivethirtyeight package.\n\n\n\n\nCode\nheatmap_ross <- fivethirtyeight::bob_ross |>\n  pivot_longer(-c(episode, season,\n    episode_num, title),\n    names_to = \"object\",\n    values_to = \"present\") |>\n  mutate(present = as.logical(present),\n    object = str_replace_all(object, \"_\", \" \")) |>\n  arrange(episode, object) |> \n  filter(object %in% c(\"conifer\", \"trees\", \n    \"tree\", \"snow\", \"palm trees\", \"grass\", \n    \"flowers\", \"cactus\", \"bushes\", \"cirrus\", \n    \"cumulus\", \"deciduous\", \"clouds\", \"fog\")) |>\n  group_by(season, object) |>\n  summarise(occurrences = sum(present)) |>\n  ungroup()"
  },
  {
    "objectID": "amt/heatmaps.html#the-grammar",
    "href": "amt/heatmaps.html#the-grammar",
    "title": "Heatmaps",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nAssign season to x, object to y, and occurrences to fill\nAdd the geom_tile()\nMove the legend to the bottom with theme(legend.position = \"bottom\")\n\n\n\n\nCode\nlabs_heatmap_tile <- labs(\n  title = \"Bob Ross' plants & clouds\", \n  x = \"Episode\", \n  y = \"Plant & Cloud Objects\", \n  fill = \"Occurrences\")\nggp2_heatmap_tile <- ggplot(data = heatmap_ross, \n       aes(x = season, \n           y = object, \n           fill = occurrences)) + \n       geom_tile() + \n    theme(legend.position = \"bottom\")\nggp2_heatmap_tile + \n  labs_heatmap_tile\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "amt/heatmaps.html#more-info",
    "href": "amt/heatmaps.html#more-info",
    "title": "Heatmaps",
    "section": "More info",
    "text": "More info\nIn addition to geom_tile(), heatmaps can also be created with the geom_raster() function.\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nAssign season to x, object to y, and occurrences to fill\nAdd the geom_raster()\nMove the legend to the bottom with theme(legend.position = \"bottom\")\n\n\n\n\nCode\nlabs_heatmap_raster <- labs(\n  title = \"Bob Ross' plants & clouds\", \n  x = \"Episode\", \n  y = \"Plant/Cloud Object\", \n  fill = \"Occurrences\")\nggp2_heatmap_raster <- ggplot(data = heatmap_ross, \n       aes(x = season, \n           y = object, \n           fill = occurrences)) + \n       geom_raster() + \n    theme(legend.position = \"bottom\")\nggp2_heatmap_raster + \n  labs_heatmap_raster\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "amt/sum_bar_graphs.html",
    "href": "amt/sum_bar_graphs.html",
    "title": "Summary bar-graphs",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nSummary bar-graphs display the sum (or total) of a numerical variable across the levels of a second categorical variable. Color is used to make comparisons and distinguish between groups (or levels) of the categorical variable.\nIn ggplot2, we can create summary bar-graphs with geom_bar()."
  },
  {
    "objectID": "amt/sum_bar_graphs.html#getting-set-up",
    "href": "amt/sum_bar_graphs.html#getting-set-up",
    "title": "Summary bar-graphs",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove the missing values from body_mass_g and island in the palmerpenguins::penguins data and convert body mass in grams to kilograms (body_mass_kg).\nWe’ll also reduce the number of columns in the penguins data for clarity.\n\n\n\n\nCode\npeng_sum_col <- palmerpenguins::penguins |> \n    dplyr::select(body_mass_g, island) |> \n    tidyr::drop_na() |> \n    # divide the mass value by 1000\n    dplyr::mutate(\n        body_mass_kg = body_mass_g / 1000\n    )\ndplyr::glimpse(peng_sum_col)\n\n\nRows: 342\nColumns: 3\n$ body_mass_g  <int> 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3475, 4250, 330…\n$ island       <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, To…\n$ body_mass_kg <dbl> 3.750, 3.800, 3.250, 3.450, 3.650, 3.625, 4.675, 3.475, 4…"
  },
  {
    "objectID": "amt/sum_bar_graphs.html#the-grammar",
    "href": "amt/sum_bar_graphs.html#the-grammar",
    "title": "Summary bar-graphs",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap island to x and body_mass_kg to y\nInside the aes() of geom_col(), map island to fill\nOutside the aes() of geom_col(), remove the legend with show.legend = FALSE\n\n\n\n\nCode\nlabs_sum_col <- labs(\n    title = \"Total Penguin Mass\",\n    subtitle = \"How many kilograms of penguin per Island?\",\n    x = \"Island\",\n    y = \"Total Penguin Body Mass (kg)\")\nggp2_sum_col <- ggplot(data = peng_sum_col,\n    aes(x = island,\n        y = body_mass_kg)) +\n    geom_col(aes(fill = island), \n        show.legend = FALSE)  \nggp2_sum_col + \n    labs_sum_col\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "amt/sum_bar_graphs.html#more-info",
    "href": "amt/sum_bar_graphs.html#more-info",
    "title": "Summary bar-graphs",
    "section": "More Info",
    "text": "More Info\nNote that we didn’t have to write any code to calculate the total body_mass_g (displayed on the y axis) by island.\nThat’s because ggplot2 does this for us!\n\n\n_bar() vs. _col():\n\ngeom_bar() will map a categorical variable to the x or y and display counts for the discrete levels (see stat_count() for more info)\n\n\n\ngeom_col() will map both x and y aesthetics, and is used when we want to display numerical (quantitative) values across the levels of a categorical variable. geom_col() assumes these values have been created in their own column (see stat_identity() for more info)\n\n\n\nSummaryIdentity vs. Count\n\n\n\nSUMMARY:\n\n\nIf we pass a categorical variable to the x (like island) and a continuous variable to y (like body_mass_kg), geom_col() will calculate the sum() of y by levels of x\n\n\nWe can see the underlying summary of budget using dplyr’s group_by() and summarise() functions.\n\n\n\n\nCode\npalmerpenguins::penguins |> \n    dplyr::select(body_mass_g, island) |> \n    tidyr::drop_na() |> \n    # divide the mass value by 1000\n    dplyr::mutate(\n        body_mass_kg = body_mass_g / 1000\n    ) |> \n    dplyr::group_by(island) |>\n    dplyr::summarise(\n       `Total Penguin Body Mass (kg)` = sum(body_mass_kg)) |>\n    dplyr::ungroup() |> \n    dplyr::select(`Island` = island, \n        `Total Penguin Body Mass (kg)`)\n\n\n\n\n\n\n\n\n \n  \n    Island \n    Total Penguin Body Mass (kg) \n  \n \n\n  \n    Biscoe \n    787.575 \n  \n  \n    Dream \n    460.400 \n  \n  \n    Torgersen \n    189.025 \n  \n\n\n\n\n\n\n\n\n\nSTATS:\n\n\nThe geom_bar() geom will also create grouped bar-graphs, but we have to switch the stat argument to \"identity\".\n\n\n\n\nCode\nggplot(data = peng_sum_col,\n    aes(x = island,\n        y = body_mass_kg)) +\n    geom_col(aes(fill = island), \n        show.legend = FALSE,\n        stat = \"identity\")  +\n    labs_sum_col"
  },
  {
    "objectID": "dist/ridgeline_plots.html",
    "href": "dist/ridgeline_plots.html",
    "title": "Ridgeline Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nIf we want to plot density curves but retain the interpretability of the axes, consider comparing multiple distributions using the ggridges package."
  },
  {
    "objectID": "dist/ridgeline_plots.html#getting-set-up",
    "href": "dist/ridgeline_plots.html#getting-set-up",
    "title": "Ridgeline Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove missing island from penguins\n\n\n\n\nCode\npeng_ridges <- filter(penguins, !is.na(island))\nglimpse(peng_ridges)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "dist/ridgeline_plots.html#the-grammar",
    "href": "dist/ridgeline_plots.html#the-grammar",
    "title": "Ridgeline Plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap bill_length_mm to the x axis\nMap island to the y axis and fill\nAdd the ggridges::geom_density_ridges() layer (with alpha set to 2/3)\nRemove the legend with show.legend = FALSE\n\n\n\n\nCode\nlabs_ridges <- labs(\n  title = \"Adult foraging penguins\",\n  x = \"Bill length (millimeters)\",\n  y = \"Island\", fill = \"Island\")\nggp2_ridges <- ggplot(data = peng_ridges,\n       aes(x = bill_length_mm, \n           y = island, \n        fill = island)) +\n  ggridges::geom_density_ridges(alpha = 2/3, \n      show.legend = FALSE)\nggp2_ridges + \n  labs_ridges\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\nRidgeline plots are excellent for comparing continuous distributions across groups."
  },
  {
    "objectID": "dist/bee_swarm_plots.html",
    "href": "dist/bee_swarm_plots.html",
    "title": "Bee-swarm Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nWe can also use smaller dots (or points) to show the spread of values for a particular variable with bee-swarm plots\nInstall the ggbeeswarm package."
  },
  {
    "objectID": "dist/bee_swarm_plots.html#getting-set-up",
    "href": "dist/bee_swarm_plots.html#getting-set-up",
    "title": "Bee-swarm Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ndevtools::install_github(\"eclarke/ggbeeswarm\")\nlibrary(ggbeeswarm)\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nCreate peng_beeswarm by grouping penguins by species, then calculating the bill_ratio (bill_length_mm / bill_depth_mm), and then removing any missing values from bill_ratio\n\n\n\n\nCode\npeng_beeswarm <- palmerpenguins::penguins |> \n    dplyr::group_by(species) |> \n    dplyr::mutate(bill_ratio = bill_length_mm / bill_depth_mm) |>  \n    dplyr::filter(!is.na(bill_ratio)) |> \n    dplyr::ungroup()\nglimpse(peng_beeswarm)\n\n\nRows: 342\nColumns: 9\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0…\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 18.1, 20.2…\n$ flipper_length_mm <int> 181, 186, 195, 193, 190, 181, 195, 193, 190, 186, 18…\n$ body_mass_g       <int> 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3475, 4250…\n$ sex               <fct> male, female, female, female, male, female, male, NA…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n$ bill_ratio        <dbl> 2.090909, 2.270115, 2.238889, 1.901554, 1.907767, 2.…"
  },
  {
    "objectID": "dist/bee_swarm_plots.html#the-grammar",
    "href": "dist/bee_swarm_plots.html#the-grammar",
    "title": "Bee-swarm Plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap species to the x axis and color\nMap bill_ratio to the y axis\nAdd the ggbeeswarm::geom_beeswarm() layer (with alpha)\nRemove the legend with show.legend = FALSE\n\n\n\n\nCode\nlabs_beeswarm <- labs(\n    title = \"Adult Foraging Penguins\",\n    subtitle = \"Bill Length (mm) / Bill Depth (mm) = Bill Ratio\",\n    x = \"Penguin Species\",\n    y = \"Bill Ratio\")\nggp2_beeswarm <- ggplot(data = peng_beeswarm,\n    aes(x = species,\n        y = bill_ratio,\n        color = species)) +\n    ggbeeswarm::geom_beeswarm(alpha = 2 / 3,\n        show.legend = FALSE)\nggp2_beeswarm +\n    labs_beeswarm\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\nAdjust the size/shape of the swarm using method = or the geom_quasirandom() function\n\n\n\n\nCode\nlabs_beeswarm <- labs(\n    title = \"Adult Foraging Penguins\",\n    subtitle = \"Bill Length (mm) / Bill Depth (mm) = Bill Ratio\",\n    x = \"Penguin Species\",\n    y = \"Bill Ratio\")\nggp2_beeswarm <- ggplot(data = peng_beeswarm,\n    aes(x = species,\n        y = bill_ratio,\n        color = species)) +\n    ggbeeswarm::geom_beeswarm(alpha = 2 / 3,\n        show.legend = FALSE)\nggp2_beeswarm +\n    labs_beeswarm"
  },
  {
    "objectID": "dist/bee_swarm_plots.html#more-info",
    "href": "dist/bee_swarm_plots.html#more-info",
    "title": "Bee-swarm Plots",
    "section": "More info",
    "text": "More info\n\nMethodSide\n\n\n\nMETHOD:\n\n\nUse method to adjust the shape of the beeswarm (swarm, compactswarm, hex, square, center, or centre)\n\n\n\n\nSet the point shape to 21 to control the fill and color\n\n\n\n\nCode\nggp2_compact_swarm <- ggplot(data = peng_beeswarm,\n    mapping = aes(x = species,\n                  y = bill_ratio,\n                color = species)) +\n    ggbeeswarm::geom_beeswarm(\n      aes(fill = species),\n        method = 'compactswarm', \n        dodge.width = 0.5,\n        shape = 21,\n        color = \"#ffffff\",\n        alpha = 2/3, size = 1.75,\n        show.legend = FALSE) \nggp2_compact_swarm + \n    # add labels\n    labs_beeswarm\n\n\n\n\n\n\n\n\n\n\n\n\n\nSIDE:\n\n\nFor a beeswarm that falls across the vertical axis, use the side argument.\n\n\n\n\nCode\nggp2_rside_swarm <- ggplot(data = peng_beeswarm,\n    mapping = aes(x = species,\n                  y = bill_ratio,\n                color = species)) +\n    ggbeeswarm::geom_beeswarm(\n      aes(fill = species),\n        method = 'compactswarm', \n        side = 1, # right/upwards\n        dodge.width = 0.5,\n        shape = 21,\n        color = \"#ffffff\",\n        alpha = 2/3, size = 1.75,\n        show.legend = FALSE) \nggp2_rside_swarm + \n    # add labels\n    labs_beeswarm"
  },
  {
    "objectID": "dist/grouped_violin_plots.html",
    "href": "dist/grouped_violin_plots.html",
    "title": "Grouped Violin-Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nA ‘violin plot’ is a variation of a density or ridgeline plot, where the distribution is plotted symmetrically, creating a two-sided, smoothed distribution."
  },
  {
    "objectID": "dist/grouped_violin_plots.html#getting-set-up",
    "href": "dist/grouped_violin_plots.html#getting-set-up",
    "title": "Grouped Violin-Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove missing island from penguins\n\n\n\n\nCode\npeng_violin <- filter(penguins, !is.na(island))\nglimpse(peng_violin)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n\n\n\n\n\n\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap island to the x, bill_length_mm to the y, and island to fill\nSet alpha to 2/3\nRemove the legend with show.legend = FALSE\n\n\n\n\nCode\nlabs_grp_violin <- labs(\n  title = \"Adult foraging penguins\", \n  subtitle = \"Palmer Archipelago, Antarctica\",\n  x = \"Island\", fill = \"Island\",\n  y = \"Bill length (millimeters)\")\nggp2_grp_violin <- ggplot(data = peng_violin,\n       aes(x = island, \n           y = bill_length_mm, \n        fill = island)) +\n  geom_violin(alpha = 2/3, \n      show.legend = FALSE) \nggp2_grp_violin + \n  labs_grp_violin\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\nViolin plots can allow us to compare the ‘center’ and ‘spread’ of continuous variables across categorical groups.\n\n\n\n\nCode\nlabs_grp_violin <- labs(\n  title = \"Adult foraging penguins\", \n  subtitle = \"Palmer Archipelago, Antarctica\",\n  x = \"Island\", fill = \"Island\",\n  y = \"Bill length (millimeters)\")\nggp2_grp_violin <- ggplot(data = peng_violin,\n       aes(x = island, \n           y = bill_length_mm, \n        fill = island)) +\n  geom_violin(alpha = 2/3, \n      show.legend = FALSE) \nggp2_grp_violin + \n  labs_grp_violin"
  },
  {
    "objectID": "dist/grouped_violin_plots.html#more-info",
    "href": "dist/grouped_violin_plots.html#more-info",
    "title": "Grouped Violin-Plots",
    "section": "More info",
    "text": "More info\n\nQuartilesKernelBandwidth\n\n\n\ndraw_quantiles:\n\n\n\nChange the shape of the line with linetype and linewidth.\n\nWe can include lines for the 25th, 50th, and 75th quartiles using the draw_quantiles argument.\n\n\n\n\nCode\nggplot(data = peng_violin,\n       aes(x = island, \n           y = bill_length_mm, \n        fill = island)) +\n  geom_violin(draw_quantiles = c(0.25, 0.5, 0.75),\n      alpha = 1/2, \n      linewidth = 0.5, \n      show.legend = FALSE) \n\n\n\n\n\n\n\n\n\n\n\n\n\nkernel:\n\n\nThe kernel argument let’s us change the “kernel density estimate” used to create the violin shape. The possible kernel density estimates are \"gaussian\", \"epanechnikov\", \"rectangular\", \"triangular\", \"biweight\", \"cosine\", and \"optcosine\"\n\n\n\n\nCode\nggplot(data = peng_violin,\n       aes(x = island, \n           y = bill_length_mm, \n        fill = island)) +\n  geom_violin(alpha = 1/2, \n      linewidth = 0.5, \n      kernel = \"rectangular\",\n      show.legend = FALSE) \n\n\n\n\n\n\n\n\n\n\n\n\n\nbw:\n\n\nWe can directly adjust the shape of the violin with the bw argument, which is the standard deviation of the smoothing kernel. The trim argument trim(s) the tails of the violins to the range of the data.\n\n\n\n\nCode\n# bw of 0.5\ngrp_violin_bw0p5 <- ggplot(data = peng_violin,\n       aes(x = island, \n           y = bill_length_mm, \n        fill = island)) +\n  geom_violin(bw = 0.5, \n      alpha = 2/3, \n      trim = TRUE,\n      show.legend = FALSE) \ngrp_violin_bw0p5 + \n    labs_grp_violin + \n    labs(caption = \"bw = 0.5\")\n# bw of 4.5\ngrp_violin_bw4p5 <- ggplot(data = peng_violin,\n       aes(x = island, \n           y = bill_length_mm, \n        fill = island)) +\n  geom_violin(bw = 4.5, \n      alpha = 2/3, \n      trim = TRUE,\n      show.legend = FALSE) \ngrp_violin_bw4p5 + \n    labs_grp_violin + \n    labs(caption = \"bw = 4.5\")"
  },
  {
    "objectID": "dist/grouped_box_plots.html",
    "href": "dist/grouped_box_plots.html",
    "title": "Grouped Box-plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nGrouped box-plots display five different statistical measures across a series of categories, or groups, of a discrete, ordinal, or interval variable.\nThe five statistical measures are 1) the first quartile, 2) the second quartile, and 3) the third quartile. The fourth and fifth values are the largest/smallest values no further than 1.5 X inter-quartile range from the hinges."
  },
  {
    "objectID": "dist/grouped_box_plots.html#getting-set-up",
    "href": "dist/grouped_box_plots.html#getting-set-up",
    "title": "Grouped Box-plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove the missing island values from the penguins data.\n\n\n\n\nCode\npeng_box <- filter(penguins, !is.na(island))\nglimpse(peng_box)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "dist/grouped_box_plots.html#the-grammar",
    "href": "dist/grouped_box_plots.html#the-grammar",
    "title": "Grouped Box-plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap island to the x axis and to fill\nMap bill_length_mm to the y axis\nAdd geom_boxplot() and set the alpha to 2/3\nRemove the legend with show.legend = FALSE\n\n\n\n\nCode\nlabs_grp_boxplots <- labs(\n  title = \"Adult foraging penguins\", \n  subtitle = \"Palmer Archipelago, Antarctica\",\n  x = \"Island\", fill = \"Island\",\n  y = \"Bill length (millimeters)\")\nggp2_grp_boxplots <- ggplot(data = peng_box,\n       aes(x = island, \n           y = bill_length_mm, \n        fill = island)) +\n  geom_boxplot(alpha = 2/3, \n      show.legend = FALSE) \nggp2_grp_boxplots + \n  labs_grp_boxplots\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\nWhen a categorical variable is supplied, the plot will contain a box for each level or group."
  },
  {
    "objectID": "dist/grouped_box_plots.html#more-info",
    "href": "dist/grouped_box_plots.html#more-info",
    "title": "Grouped Box-plots",
    "section": "More info",
    "text": "More info\n\nNotchesOutliers\n\n\n\nNOTCHES:\n\n\nAdd notches to the box-plot using the notch = TRUE and notchwidth arguments.\n\n\n\n\nCode\nggp2_grp_box_notch <- ggplot(data = peng_box,\n       aes(x = island, \n           y = bill_length_mm, \n        fill = island)) +\n  geom_boxplot(\n      notch = TRUE, \n      notchwidth = 0.85, \n      alpha = 2/3, \n      show.legend = FALSE) \nggp2_grp_box_notch + \n    labs_grp_boxplots\n\n\n\n\n\n\n\n\n\n\n\n\n\nOUTLIERS:\n\n\nBox-plots display outliers using points, and we can change the color these using the outlier.colour argument. Inside the geom_boxplot(), we map island to color and set outlier.colour to NULL:\n\n\n\n\nCode\nggp2_grp_box_outliers <- ggplot(data = peng_box,\n       aes(x = island, \n           y = bill_length_mm,\n           fill = island)) +\n  geom_boxplot(aes(color = island),\n      outlier.colour = NULL, \n      outlier.size = 2,\n      notch = TRUE, \n      notchwidth = 0.85, \n      alpha = 2/3, \n      show.legend = FALSE) \nggp2_grp_box_outliers + \n    labs_grp_boxplots"
  },
  {
    "objectID": "dist/overlapping_frequency_polygons.html",
    "href": "dist/overlapping_frequency_polygons.html",
    "title": "Overlapping Frequency Polygons",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nOverlapping frequency polygons are similar to overlapping histograms–they allow us to compare distributions of a continuous variable across the levels of a categorical variable.\nInstead of using bars, frequency polygons use lines to show the shape of the distribution."
  },
  {
    "objectID": "dist/overlapping_frequency_polygons.html#getting-set-up",
    "href": "dist/overlapping_frequency_polygons.html#getting-set-up",
    "title": "Overlapping Frequency Polygons",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data.\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "dist/overlapping_frequency_polygons.html#the-grammar",
    "href": "dist/overlapping_frequency_polygons.html#the-grammar",
    "title": "Overlapping Frequency Polygons",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap flipper_length_mm to the x and species to group\nMap species to the color aesthetic inside the geom_freqpoly()\n\n\n\n\nCode\nlabs_ovrlp_freq_poly <- labs(\n  title = \"Adult foraging penguins\",\n  x = \"Flipper length (millimeters)\",\n  color = \"Species\")\nggp2_ovrlp_freq_poly <- ggplot(data = penguins, \n       aes(x = flipper_length_mm,\n           group = species)) + \n  geom_freqpoly(aes(color = species))\nggp2_ovrlp_freq_poly + \n  labs_ovrlp_freq_poly\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "dist/overlapping_histograms.html",
    "href": "dist/overlapping_histograms.html",
    "title": "Overlapping Histograms",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nOverlapping histograms allow us to compare distributions across the groups of a categorical (or ordinal) variable."
  },
  {
    "objectID": "dist/overlapping_histograms.html#getting-set-up",
    "href": "dist/overlapping_histograms.html#getting-set-up",
    "title": "Overlapping Histograms",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "dist/overlapping_histograms.html#the-grammar",
    "href": "dist/overlapping_histograms.html#the-grammar",
    "title": "Overlapping Histograms",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap flipper_length_mm to the x axis and species to fill\nSet alpha to 2/3 inside geom_histogram()\n\n\n\n\nCode\nlabs_ovrlp_hist <- labs(\n  title = \"Adult foraging penguins\",\n  x = \"Flipper length (millimeters)\", \n  fill = \"Species\")\nggp2_ovrlp_hist <- ggplot(data = penguins,\n     aes(x = flipper_length_mm, \n         fill = species)) + \n     geom_histogram(alpha = 2/3) \nggp2_ovrlp_hist + \n  labs_ovrlp_hist\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\nHistograms work by dividing the variable provided to x into bins and counting the number of observations in each bin.\n\n\n\nExperiment with different binwidths when comparing distributions across groups."
  },
  {
    "objectID": "dist/raincloud_plots.html",
    "href": "dist/raincloud_plots.html",
    "title": "Raincloud Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRaincloud plots are a combination of density graph, a box-plot, and a beeswarm (or jitter) plot, and are used to compare distributions of quantitative/numerical variables across the levels of a categorical (or discrete) grouping variable.\nThe user-written package for creating raincloud plots (raincloudplots), or they can be built using the ggdist and package and geoms from ggplot2."
  },
  {
    "objectID": "dist/raincloud_plots.html#getting-set-up",
    "href": "dist/raincloud_plots.html#getting-set-up",
    "title": "Raincloud Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\nremotes::install_github('jorvlan/raincloudplots')\nremotes::install_github('mjskay/ggdist')\nlibrary(raincloudplots)\nlibrary(ggdist)\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\nRemove the missing values from year and flipper_length_mm the penguins data. The raincloudplots package has a data_1x1() function we can use to build the dataset for a 1x1 repeated measure graph (peng_1x1).\nThis function takes two array arguments (array_1 and array_2), which we create with the flipper length (flipper_length_mm) for two levels of year in the peng_raincloud data.\nThe jit_distance and jit_seed refer to the points in the plot.\n\n\n\n\nCode\n# remove missing\npeng_raincloud <- palmerpenguins::penguins |> \n    filter(!is.na(year) & !is.na(body_mass_g))\n# filter flipper length by years 2008 & 2009\npeng_1x1 <- raincloudplots::data_1x1(\n  array_1 = dplyr::filter(peng_raincloud, year == 2008)$flipper_length_mm,\n  array_2 = dplyr::filter(peng_raincloud, year == 2009)$flipper_length_mm,\n  jit_distance = 0.2, # distance between points\n  jit_seed = 2736) # used in set.seed() \nglimpse(peng_1x1)\n\n\nRows: 233\nColumns: 4\n$ y_axis <int> 186, 188, 190, 200, 187, 191, 186, 193, 181, 194, 185, 195, 185…\n$ x_axis <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ id     <fct> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, …\n$ jit    <dbl> 1.0200375, 0.9498208, 0.8820888, 0.9516411, 0.9689052, 1.053578…"
  },
  {
    "objectID": "dist/raincloud_plots.html#the-grammar-raincloudplots",
    "href": "dist/raincloud_plots.html#the-grammar-raincloudplots",
    "title": "Raincloud Plots",
    "section": "The grammar (raincloudplots)",
    "text": "The grammar (raincloudplots)\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nUse the raincloudplots::raincloud_1x1() to build the plot, assigning peng_1x1 to data_1x1\n- assign colors and fills\n- set the size (of the points) and alpha (for opacity)\n\n\n\n\nCode\nggp2_raincloud <- raincloudplots::raincloud_1x1(\n    data_1x1 = peng_1x1,\n    colors = (c('#0bd3d3', '#f890e7')),\n    fills = (c('#0bd3d3', '#f890e7')),\n    size = 0.8,\n    alpha = 3/4,\n    ort = 'h'\n) \n\nggp2_raincloud_x <- ggp2_raincloud +\n    ggplot2::scale_x_continuous(\n        breaks = c(1, 2),\n        labels = c(\"2008\", \"2009\"),\n        limits = c(0, 3))\n\nggp2_raincloud_x + \n    ggplot2::labs(title = \"Flipper length of Palmer penguins\",\n        subtitle = \"Years 2008 & 2009\", \n         x = \"Year\", y = \"Flipper length (mm)\")\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "dist/raincloud_plots.html#more-info",
    "href": "dist/raincloud_plots.html#more-info",
    "title": "Raincloud Plots",
    "section": "More info",
    "text": "More info\n\nDataBox-plotDensityPoints\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nWe’ll use the peng_raincloud data (with the missing values removed from species and body_mass_g).\n\n\n\n\nCode\n# remove missing\npeng_raincloud <- palmerpenguins::penguins |> \n    filter(!is.na(species) & !is.na(body_mass_g))\nglimpse(peng_raincloud)\n\n\nRows: 342\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0…\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 18.1, 20.2…\n$ flipper_length_mm <int> 181, 186, 195, 193, 190, 181, 195, 193, 190, 186, 18…\n$ body_mass_g       <int> 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3475, 4250…\n$ sex               <fct> male, female, female, female, male, female, male, NA…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n\n\n\n\n\n\nggplot2::geom_boxplot()\n\n\nCreate labels\nFor the first layer, we create a box-plot with geom_boxplot(), but include notches and remove the outliers.\n\n\n\n\nCode\nlabs_raincloud_2 <- ggplot2::labs(\n    title = \"Flipper length of Palmer penguins\",\n         x = \"Flipper length (mm)\",\n         y = \"Species\")\nggp2_box <- ggplot(peng_raincloud,\n    aes( x = flipper_length_mm, y = species)) + \n  geom_boxplot(aes(fill = species),\n    notch = TRUE, \n    notchwidth = 0.9,\n    width = .15, \n    outlier.shape = NA,\n    show.legend = FALSE)\nggp2_box + \n    labs_raincloud_2\n\n\n\n\n\n\n\n\n\n\n\n\n\nggdist::stat_halfeye()\n\n\nWe then add a horizontal density curve with ggdist::stat_halfeye(), mapping species to fill, and adjusting the size and shape of the density curve and shifting it slightly above the box-plot.\n\n\n\n\nCode\nggp2_stat_halfeye <- ggp2_box +\n  ggdist::stat_halfeye(aes(fill = species),\n    adjust = 0.6, # shape = adjust * density estimator\n    .width = 0, # can use probabilities or 0\n    point_colour = NA, # removes the point in center\n    orientation = \"horizontal\", # like the box-plot\n    height = 0.5, # height of curve\n    justification = -0.3, # shift vertically above box\n    show.legend = FALSE # don't need this \n) \nggp2_stat_halfeye + \n    labs_raincloud_2\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot2::geom_point()\n\n\nThe final layer is a geom_point(), mapping fill to species and setting position to position_jitter(). Additional adjustments to the points include:\n\nUsing shape = 21, we can color the outside of the point (white makes it appear to glow).\nManually set the height, which refers to the vertical area for the points\n\n\n\n\n\nCode\nggp2_jitter <- ggp2_stat_halfeye + \n    geom_point(aes(fill = species),\n        position = position_jitter(\n          seed = 321, \n          height = .07),\n            shape = 21, \n            color = \"#ffffff\", \n            alpha = 1/3, size = 1.8,\n            show.legend = FALSE) \nggp2_jitter + \n    labs_raincloud_2"
  },
  {
    "objectID": "dist/raincloud_plots.html#even-more-info",
    "href": "dist/raincloud_plots.html#even-more-info",
    "title": "Raincloud Plots",
    "section": "Even more info",
    "text": "Even more info\n\nMore examples#TidyTuesday exampleMore resources\n\n\n\nCédric Scherer covered raincloud plots in this great write-up for #TidyTuesday.\nCédric also covers some alternative methods for plotting the points (I particularly like using bands instead of points when displaying the rainclouds vertically).\nWe can switch to this layout by applying ggplot2::coord_flip() to the ggp2_stat_halfeye layer, then adding geom_point() with shape set to 95\n\n\n\n\nCode\nggp2_stat_halfeye + \n    ggplot2::coord_flip() + \nggplot2::geom_point(\n    shape = 95,\n    size = 8,\n    alpha = .2\n  ) + \n    theme(legend.position = \"none\") + \n    labs_raincloud_2\n\n\n\n\n\n\n\n\n\n\n\n\n\nPolished Graph\n\n\nThe code to re-create the #TidyTuesday graph is contained in this gist.\n\n\n\n\n\n\n\n\n\nMORE RESOURCES\n\n\n\nRaincloud plots: a multi-platform tool for robust data visualization. 1\nShape and point sizes in R. 2\nRainCloudPlots package on GitHub. 3"
  },
  {
    "objectID": "dist/overlapping_dot_plots.html",
    "href": "dist/overlapping_dot_plots.html",
    "title": "Overlapping Dot-Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nOverlapping dot-plots display distributions of a continuous variable across the levels of a categorical variable.\nTo adjust the dot-plot display to look similar to a histogram or frequency polygon, change the method and binposition arguments."
  },
  {
    "objectID": "dist/overlapping_dot_plots.html#getting-set-up",
    "href": "dist/overlapping_dot_plots.html#getting-set-up",
    "title": "Overlapping Dot-Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove missing sex from penguins\n\n\n\n\nCode\npeng_dotplot <- dplyr::filter(penguins, !is.na(sex))\ndplyr::glimpse(peng_dotplot)\n\n\nRows: 333\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 41.1, 38.6…\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 17.6, 21.2…\n$ flipper_length_mm <int> 181, 186, 195, 193, 190, 181, 195, 182, 191, 198, 18…\n$ body_mass_g       <int> 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3200, 3800…\n$ sex               <fct> male, female, female, female, male, female, male, fe…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "dist/overlapping_dot_plots.html#the-grammar",
    "href": "dist/overlapping_dot_plots.html#the-grammar",
    "title": "Overlapping Dot-Plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap flipper_length_mm to x\nMap species to fill (inside factor())\nInside geom_dotplot, set method to \"histodot\", binwidth to 1.35, and binpositions to \"all\"\n\n\n\n\nCode\nlabs_ovrlp_dotplot <- labs(\n  title = \"Adult foraging penguins\",\n  x = \"Flipper length (millimeters)\",\n  y = \"Count\",\n  fill = \"Species\")\nggp2_ovrlp_dotplot <- ggplot(data = peng_dotplot, \n    aes(x = flipper_length_mm,\n        fill = factor(species))) +\n  geom_dotplot(\n    method = \"histodot\",\n    binwidth = 1.35,\n    binpositions = \"all\")\nggp2_ovrlp_dotplot + \n  labs_ovrlp_dotplot\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\n\n\nbinwidth = When method is “histodot”, this specifies bin width. Defaults to 1/30 of the range of the data\nbinpositions = “all” determines positions of the bins with all the data taken together; this is used for aligning dot stacks across multiple groups."
  },
  {
    "objectID": "dist/overlapping_stacked_density_plots.html",
    "href": "dist/overlapping_stacked_density_plots.html",
    "title": "Overlapping Density Plot",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nDensity plots are smoothed version(s) of histogram(s). They can are great for comparing the distributions of a continuous variable across the levels of a categorical variable.\ngeom_density() creates a kernel density estimate. The default position argument is \"identity\", which takes the data as is. However, we can change position to \"stack\" to display overlapping distributions."
  },
  {
    "objectID": "dist/overlapping_stacked_density_plots.html#getting-set-up",
    "href": "dist/overlapping_stacked_density_plots.html#getting-set-up",
    "title": "Overlapping Density Plot",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove missing sex from the penguins data\n\n\n\n\nCode\npeng_density <- dplyr::filter(penguins, !is.na(sex))\ndplyr::glimpse(peng_density)\n\n\nRows: 333\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 41.1, 38.6…\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 17.6, 21.2…\n$ flipper_length_mm <int> 181, 186, 195, 193, 190, 181, 195, 182, 191, 198, 18…\n$ body_mass_g       <int> 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3200, 3800…\n$ sex               <fct> male, female, female, female, male, female, male, fe…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "dist/overlapping_stacked_density_plots.html#the-grammar",
    "href": "dist/overlapping_stacked_density_plots.html#the-grammar",
    "title": "Overlapping Density Plot",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap the flipper_length_mm to the x and sex to fill\nAdd the geom_density()\nSet the alpha to 1/3 (to handle the overlapping areas)\n\n\n\n\nCode\nlabs_ovrlp_density <- labs(\n  title = \"Adult foraging penguins\",\n  x = \"Flipper length (millimeters)\",\n  fill = \"Sex\")\nggp2_ovrlp_density <- ggplot(data = peng_density, \n       aes(x = flipper_length_mm, \n           fill = sex)) +\n      geom_density(alpha = 1/3) \nggp2_ovrlp_density + \n  labs_ovrlp_density\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\n\nA downside of density plots is the lack of interpretability of the y axis\n\nMake density area slightly transparent to handle over-plotting"
  },
  {
    "objectID": "dist/overlapping_stacked_density_plots.html#more-info",
    "href": "dist/overlapping_stacked_density_plots.html#more-info",
    "title": "Overlapping Density Plot",
    "section": "More info",
    "text": "More info\nggplot2 has multiple options for overlapping density plots, so which one to use will depend on how you’d like to display the relative distributions in your data. We’ll cover three options below:\n\nposition = \"stack\"after_stat(count)position = \"fill\"\n\n\n\nSTACK:\n\n\nIf we change the position to \"stack\" we can see the smoothed estimates are ‘stacked’ on top each other (and the y axis shifts slightly).\n\n\n\n\nCode\nlabs_stack_density <- labs(\n    title = \"Adult foraging penguins\",\n    x = \"Flipper length (millimeters)\",\n    fill = \"Sex\")\nggp2_stack_density <- ggplot(data = peng_density,\n    mapping = aes(x = flipper_length_mm,\n               fill = sex)) +\n    geom_density(position = \"stack\",\n                 alpha = 1 / 3)\nggp2_stack_density +\n    labs_stack_density\n\n\n\n\n\n\n\nSetting position to 'stack' loses marginal densities\n\n\n\n\n\n\n\n\n\n\nAFTER STAT:\n\n\nIf we include after_stat(count) as one of our mapped aesthetics, the mapping is postponed until after statistical transformation, and uses the density * n instead of the default density.\n\n\n\n\nCode\nlabs_after_stat_density <- labs(\n  title = \"Adult foraging penguins\",\n  x = \"Flipper length (millimeters)\", \n  fill = \"Sex\")\nggp2_after_stat_density <- ggplot(data = peng_density, \n       aes(x = flipper_length_mm, \n           after_stat(count),\n           fill = sex)) +\n      geom_density(position = \"stack\", \n                   alpha = 1/3) \nggp2_after_stat_density + \n  labs_after_stat_density\n\n\n\n\n\n\n\nAdding after_stat(count) ‘preserves marginal densities.’, which result in more a interpretable y axis (depending on the audience)\n\n\n\n\n\n\n\n\n\n\nFILL:\n\n\nUsing after_stat(count) with position = \"fill\" creates in a conditional density estimate.\n\n\n\n\nCode\nlabs_fill_density <- labs(\n  title = \"Adult foraging penguins\",\n  x = \"Flipper length (millimeters)\", \n  fill = \"Sex\")\nggp2_fill_density <- ggplot(data = peng_density, \n       aes(x = flipper_length_mm, \n           after_stat(count),\n           fill = sex)) +\n      geom_density(position = \"fill\", \n                   alpha = 1/3) \nggp2_fill_density + \n  labs_fill_density\n\n\n\n\n\n\n\nThis results in a y axis ranging from 0-1, and the area filled with the relative proportional values."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Overview",
    "section": "",
    "text": "Welcome! This website contains a collection of graphs created using ggplot2 (and friends!).\nInstall ggplot2 using the code below:\nOr install ggplot2 as part of the tidyverse:"
  },
  {
    "objectID": "index.html#the-data",
    "href": "index.html#the-data",
    "title": "Overview",
    "section": "The Data",
    "text": "The Data\nTo improve reproducibility, the majority of the graphs are built using the palmerpenguins::penguins data.\n\n\n\n…so…many…PENGUINS!\n\n\n\n\nArtwork by @allison_horst\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\n\n\nSome of the graphs use datasets from the fivethirtyeight package.\n\n\nCode\ninstall.packages(\"fivethirtyeight\")\nlibrary(fivethirtyeight)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nExpand to view the data in the fivethirtyeight package\n\n\n\n\n\n\nTo view a table of available datasets in the fivethirtyeight package, view the Data Frame Name and Article Title columns in the datasets_master table:\n\n\n\n\n\n\n\n\n\n\n\n\n\nA few of the graphs are built using the ggplot2movies::movies data.\n\n\n\n\n\n\n\n\n\nCode\ninstall.packages(\"ggplot2movies\")\nlibrary(ggplot2movies)"
  },
  {
    "objectID": "index.html#the-graphs",
    "href": "index.html#the-graphs",
    "title": "Overview",
    "section": "The Graphs",
    "text": "The Graphs\nThe gallery follows a Rule of Least Power Principle, in the sense that “a language with a straightforward syntax may be easier to analyze than an otherwise equivalent one with more complex structure.”\nIn other words, assuming the reader has some understanding of R and the tidyverse, the code for each graph is meant to be read and understood without having to run it.\n\nGraph Categories\nGraphs have been categorized into the following types:\n\nUnivariate graphs\n\nAmounts\nProportions\n\nComparing Distributions\n\nRelationships\n\nSome graphs would justifiably belong in more than one category, and wherever this is the case, I’ve tried to include links to other uses in the notes."
  },
  {
    "objectID": "index.html#code-style-structure",
    "href": "index.html#code-style-structure",
    "title": "Overview",
    "section": "Code style & structure",
    "text": "Code style & structure\nEach graph has, at minimum, the same two sections and four tabs:\n\nPackages and Data\n\nCode for installing development version of packages (if necessary) for graphs and data\n\nAny steps used to create (i.e., manipulate and prepare) the data for the graph\n\n\nCode and Graph\n\nCode to build the labels and graph layers\n\nGraph labels have the labs_ prefix\n\nGraph layers have a ggp2_ prefix\n\n\n\n\n\n\n\n\n\nExpand to view the graph code structure\n\n\n\n\n\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\nDescription of data\n\n\n\n\nCode\ndf <- tibble::tibble(X = sample(x = 1:100, 10, FALSE),\n                     Y = rlnorm(10, 1, 3))\n\n\n\n\n\n\n\nCodeGraph\n\n\n\nCODE:\n\n\nCode for creating graph\n\n\n\n\nCode\n# labels\nlabs_graph <- ggplot2::labs(title = \"Title\", \n                            subtitle = \"subtitle\", \n                            x = \"X\", y = \"Y\")\n# layers\nggp2_graph <- ggplot2::ggplot(data = df, \n    mapping = aes(x = X, y = Y)) + \n    ggplot2::geom_blank()\n# graph\nggp2_graph + \n    labs_graph\n\n\n\n\n\n\nGRAPH:\n\n\n\n\n\n\n\n\n\n\n\n\nCode Style:\nI’ve attempted to balance brevity and clarity, but with the assumption that its best to err on the latter. I’ve also followed the general principle that if a graph can be easily built using one of ggplot2 ’s geom_* functions, that method is shown first."
  },
  {
    "objectID": "index.html#extensions",
    "href": "index.html#extensions",
    "title": "Overview",
    "section": "Extensions",
    "text": "Extensions\nBelow are the graphs requiring additional packages/extensions:\n\nWaffle charts\nggwaffle package\n\n\nCode\n# Waffle Charts\ndevtools::install_github(\"liamgilbey/ggwaffle\")\nlibrary(ggwaffle)\n\n\n\nPie Charts\nggpubr package\n\n\nCode\n# Pie Charts \ndevtools::install_github(\"kassambara/ggpubr\")\nlibrary(ggpubr)\n\n\n\nMosaic Plots\nggmosaic package\n\n\nCode\n# Mosaic Charts \ndevtools::install_github(\"haleyjeppson/ggmosaic\")\nlibrary(ggmosaic)\n\n\n\nTreemaps\ntreemapify package\n\n\nCode\n# Treemaps\ndevtools::install_github(\"wilkox/treemapify\")\nlibrary(treemapify)\n\n\n\nBee-swarm Plots\nggbeeswarm package\n\n\nCode\n# Bee-swarm Plots\ndevtools::install_github(\"eclarke/ggbeeswarm\")\nlibrary(ggbeeswarm)\n\n\n\nRidgeline Plots\nggridges package\n\n\nCode\n# Ridgeline plots \ndevtools::install_github(\"wilkelab/ggridges\")\nlibrary(ggridges)\n\n\n\nRain-cloud plots\nraincloudplots and ggdist packages\n\n\nCode\n# Rain-cloud plots \nremotes::install_github('jorvlan/raincloudplots')\nremotes::install_github('mjskay/ggdist')\nlibrary(raincloudplots)\nlibrary(ggdist)\n\n\n\nAlluvial charts\nggalluvial package\n\n\nCode\n# Alluvial charts\ndevtools::install_github(\"corybrunson/ggalluvial\")\nlibrary(ggalluvial)\n\n\n\nBump charts\nggbump package\n\n\nCode\n# Bump charts\ndevtools::install_github(\"davidsjoberg/ggbump\")\nlibrary(ggbump)\n\n\n\nParallel Sets\nggforce package\n\n\nCode\n# Bump charts\ndevtools::install_github(\"thomasp85/ggforce\")\nlibrary(ggforce)\n\n\n\nStream Plots\nggstream package\n\n\nCode\n# Stream plots\ndevtools::install_github(\"davidsjoberg/ggstream\")\nlibrary(ggstream)"
  },
  {
    "objectID": "index.html#theme",
    "href": "index.html#theme",
    "title": "Overview",
    "section": "Theme",
    "text": "Theme\nThe theme used in the graphs is custom and uses combined elements from ggplot2::theme_minimal() and ggplot2::theme_void(). View it here."
  },
  {
    "objectID": "geoms/geom_area.html",
    "href": "geoms/geom_area.html",
    "title": "geom_area()",
    "section": "",
    "text": "PackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\n# install.packages(\"palmerpenguins\")\n# library(palmerpenguins) \n# library(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\n\nCode\n# penguins <- palmerpenguins::penguins\n# glimpse(penguins)\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_area()\n\n\n\n\n\n\nggplot_build()\"data\"\"plot\"\n\n\n\nggplot_build():\n\n\n\n\nCode\n# ggp2_bar_base <- ggplot(data = peng_bar)\n# ggp2_bar_x <- ggp2_bar_base + \n#     geom_bar(mapping = aes(x = island))\n\n\n\n\nCode\n# bld_ggp2_bar_x <- ggplot2::ggplot_build(ggp2_bar_x)\n# names(bld_ggp2_bar_x)\n\n\n\n\n\n\ngeom_area(): data\n\n\nExtract the data from the ggplot2 object.\n\n\n\n\nCode\n# bar_x_data <- bld_ggp2_bar_x[[\"data\"]][[1]]\n# glimpse(bar_x_data)\n# select(bar_x_data, fill)\n\n\n\n\n\n\ngeom_area(): plot\n\n\nExtract the \"plot\" from bld_ object:\n\n\n\n\nCode\n# bld_ggp2_bar_x[[\"plot\"]]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_(arg)\n\n\n\n\n\n\nggplot_build()arg: \"data\"arg: \"plot\"\n\n\n\nggplot_build():\n\n\nBuild geom_ layers\n\n\n\n\nCode\n# ggp2_bar_fill <- ggp2_bar_base + \n#     geom_bar(mapping = aes(x = island, \n#         fill = island), show.legend = FALSE)\n# ggp2_bar_fill2 <- ggp2_bar_base + \n#     geom_bar(mapping = aes(x = island, \n#         fill = sex)) \n\n\n\n\nCreate bld_ objects\n\n\n\n\nCode\n# bld_bar_fill <- ggplot2::ggplot_build(ggp2_bar_fill)\n# names(bld_bar_fill)\n# bld_bar_fill2 <- ggplot2::ggplot_build(ggp2_bar_fill2)\n# names(bld_bar_fill2)\n\n\n\n\n\n\nExtract \"data\" from bld_ objects\n\n\n\n\nCode\n# bar_fill_data <- bld_bar_fill[[\"data\"]][[1]]\n# glimpse(bar_fill_data)\n# dplyr::select(bar_fill_data, x, y, fill)\n\n\n\n\nExtract \"data\" from bld_ objects\n\n\n\n\nCode\n# bar_fill2_data <- bld_bar_fill2[[\"data\"]][[1]]\n# glimpse(bar_fill2_data)\n# dplyr::count(bar_fill2_data, x, y, fill) |> \n#     tidyr::pivot_wider(names_from = x,\n#         values_from = n)\n\n\n\n\n\n\nExtract \"plot\" from bld_ objects\n\n\n\n\nCode\n# bld_bar_fill[[\"plot\"]]\n\n\n\n\nExtract \"plot\" from bld_ objects\n\n\n\n\nCode\n# bld_bar_fill2[[\"plot\"]]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_(imp_arg)\n\n\n\n\n\n\nggplot_build()imp_arg: \"data\"imp_arg: \"plot\"\n\n\n\nggplot_build():\n\n\nBuild geom_ layers\n\n\n\n\nCode\n# ggp2_bar_fill <- ggp2_bar_base + \n#     geom_bar(mapping = aes(x = island, \n#         fill = island), show.legend = FALSE)\n# ggp2_bar_fill2 <- ggp2_bar_base + \n#     geom_bar(mapping = aes(x = island, \n#         fill = sex)) \n\n\n\n\nCreate bld_ objects\n\n\n\n\nCode\n# bld_bar_fill <- ggplot2::ggplot_build(ggp2_bar_fill)\n# names(bld_bar_fill)\n# bld_bar_fill2 <- ggplot2::ggplot_build(ggp2_bar_fill2)\n# names(bld_bar_fill2)\n\n\n\n\n\n\nExtract \"data\" from bld_ objects\n\n\n\n\nCode\n# bar_fill_data <- bld_bar_fill[[\"data\"]][[1]]\n# glimpse(bar_fill_data)\n# dplyr::select(bar_fill_data, x, y, fill)\n\n\n\n\nExtract \"data\" from bld_ objects\n\n\n\n\nCode\n# bar_fill2_data <- bld_bar_fill2[[\"data\"]][[1]]\n# glimpse(bar_fill2_data)\n# dplyr::count(bar_fill2_data, x, y, fill) |> \n#     tidyr::pivot_wider(names_from = x,\n#         values_from = n)\n\n\n\n\n\n\nExtract \"plot\" from bld_ objects\n\n\n\n\nCode\n# bld_bar_fill[[\"plot\"]]\n\n\n\n\nExtract \"plot\" from bld_ objects\n\n\n\n\nCode\n# bld_bar_fill2[[\"plot\"]]"
  },
  {
    "objectID": "geoms/geom_ribbon.html",
    "href": "geoms/geom_ribbon.html",
    "title": "geom_ribbon()",
    "section": "",
    "text": "Lines in ggplot2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_ribbon()\ngeom_polygon()\n\n\n\n\n\nPackagesData\n\n\n\n\n\n\n\n\n\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"ggplot2\")\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\nLoad the ggplot2::economics data.\n\n\n\n\nCode\neconomics <- ggplot2::economics\ndplyr::glimpse(economics)\n\n\nRows: 574\nColumns: 6\n$ date     <date> 1967-07-01, 1967-08-01, 1967-09-01, 1967-10-01, 1967-11-01, …\n$ pce      <dbl> 506.7, 509.8, 515.6, 512.2, 517.4, 525.1, 530.9, 533.6, 544.3…\n$ pop      <dbl> 198712, 198911, 199113, 199311, 199498, 199657, 199808, 19992…\n$ psavert  <dbl> 12.6, 12.6, 11.9, 12.9, 12.8, 11.8, 11.7, 12.3, 11.7, 12.3, 1…\n$ uempmed  <dbl> 4.5, 4.7, 4.6, 4.9, 4.7, 4.8, 5.1, 4.5, 4.1, 4.6, 4.4, 4.4, 4…\n$ unemploy <dbl> 2944, 2945, 2958, 3143, 3066, 3018, 2878, 3001, 2877, 2709, 2…"
  },
  {
    "objectID": "geoms/geom_ribbon.html#geom_ribbon",
    "href": "geoms/geom_ribbon.html#geom_ribbon",
    "title": "geom_ribbon()",
    "section": "geom_ribbon()",
    "text": "geom_ribbon()\n\nBasic UseAestheticsAdditional Arguments\n\n\n\nBASICS:\n\n\n\n\nCode\nggp2_ribbon_base <- ggplot(data = economics,\n                        mapping = aes(x = date))\nggp2_ribbon_base + \n    geom_ribbon(mapping = \n            aes(y = uempmed, \n                ymin = uempmed + 0.5, \n                ymax = uempmed - 0.5))\n\n\n\n\n\n\n\n\n\nAESTHETICS:\n\n\n\n\nCode\n# load correlated data\ncorr_data <- tibble::tribble(\n               ~xvar,            ~yvar,\n    4.39945542597731, 8.72304029683653,\n    4.17063449620983, 7.90063554987357,\n    5.93523342401092, 11.4541978978465,\n     5.1469950216844,  10.497618946837,\n     6.5602921658934, 10.2514082668131,\n    3.60318467023933, 8.75455336713591,\n    4.44593466081161, 8.29243026086505,\n    5.91928050392941, 12.7755963254406,\n    5.37762836695204, 12.2029024379286,\n    5.67997074416441, 12.3725943179292,\n    5.08056199671095, 10.1234733135857,\n    7.13968234777943, 13.1122471221455,\n    5.47953584350558, 10.8483125442327,\n     5.1207247271694, 11.6978354394502,\n    5.16886610539834, 11.2012361563169,\n    2.44285898166558,  4.5859655824687,\n    5.23078516502559, 9.73404777362049,\n    3.96375780089961, 8.76414720443707,\n    5.84839340452937, 10.5978562919754,\n    3.41647188446529, 5.92403646423495,\n    5.09953017417824, 10.3752983817394,\n    5.57659911788499, 9.03573690321113,\n    5.11637581346714, 10.1137194319908,\n    3.85058930107654, 9.46184974952373,\n    4.43941450511781, 7.63624635401869,\n    4.75719629862186, 10.8272731721497,\n     4.5302676699022, 9.85046648295819,\n     6.6923491882959, 13.7537499935159,\n     4.8406593897924, 9.31946299458958,\n    4.96677080464114, 9.81206097632927)\n\n\n\n\nThe required aesthetics are:\n\nx or y positions\nymin or ymax\nxmin or xmax\n\n\n\n\n\n\nCode\n# map corr_data\nggp2_ribbon_base <- ggplot(data = corr_data)\n# map x, y, ymin and ymax, and +/- adjustment\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(x = xvar,\n                    y = yvar,\n                    ymin = yvar - 0.667, \n                    ymax = yvar + 0.667))\n\n\n\n\n\n\n\nOptional aesthetics include:\nalpha\ncolor\nfill\ngroup\nlinetype\nlinewidth\n\n\nalpha\n\n\n\nCode\n# adjustment\nadj <- sd(corr_data$xvar)\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(\n        x = xvar, y = yvar,\n        ymin = yvar - adj, ymax = yvar + adj), \n        alpha = 1/3) +\n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#ffffff\") +\n    labs(subtitle = \"alpha = 1/3\")\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(\n        x = xvar, y = yvar,\n        ymin = yvar - adj, ymax = yvar + adj), \n        alpha = 1/2) +\n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#ffffff\") +\n    labs(subtitle = \"alpha = 1/2\")\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(\n        x = xvar, y = yvar,\n        ymin = yvar - adj, ymax = yvar + adj),\n        alpha = 3/4) +\n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#ffffff\") + \n    labs(subtitle = \"alpha = 3/4\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ncolor\n\n\n\nCode\n# adjustment\nadj <- sd(corr_data$xvar)\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(\n        x = xvar, y = yvar,\n        ymin = yvar - adj, ymax = yvar + adj), \n        color = \"#fa7b3c\") +\n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#ffffff\") +\n    labs(subtitle = \"geom_ribbon(color = '#fa7b3c'), geom_line(color = '#ffffff')\")\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(\n        x = xvar, y = yvar,\n        ymin = yvar - adj, ymax = yvar + adj),\n        color = \"#007bff\") +\n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#89D6FB\") + \n    labs(subtitle = \"geom_ribbon(color = '#007bff'), geom_line(color = '#89D6FB')\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfill\n\n\n\nCode\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(x = xvar,\n                    y = yvar,\n                    ymin = min(yvar) - 1, \n                    ymax = yvar - 0.75),\n        fill = \"#0bd3d3\") + \n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#9d40f5\", linewidth = 1) + \n    labs(subtitle = \"ymin = min(yvar) - 1 , ymax = yvar - 0.75\")\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(x = xvar,\n                    y = yvar,\n                    ymin = yvar + 0.75, \n                    ymax = max(yvar) + 1), \n        fill = \"#f890e7\") + \n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#9d40f5\", linewidth = 1) + \n    labs(subtitle = \"ymin = yvar + 0.75 , ymax = max(yvar) + 1\")\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(x = xvar,\n                    y = yvar,\n                    ymin = min(yvar) - 1, \n                    ymax = yvar - 0.75),\n        fill = \"#0bd3d3\") + \n    geom_ribbon(mapping = aes(x = xvar,\n                    y = yvar,\n                    ymin = yvar + 0.75, \n                    ymax = max(yvar) + 1), \n        fill = \"#f890e7\") + \n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#9d40f5\", linewidth = 1) + \n    labs(subtitle = \"ymin = min(yvar) - 1 , ymax = yvar - 0.75\\nymin = yvar + 0.75 / ymax = max(yvar) + 1\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nARGUMENTS:\n\n\n\n\nCode\n# adjustment\nadj <- sd(corr_data$xvar)\n# line only\nggp2_ribbon_base + \n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#9d40f5\") + \n    labs(subtitle = \"geom_line()\")\nggp2_ribbon_base + \n    geom_ribbon(mapping = aes(\n        x = xvar, y = yvar,\n        xmin = xvar - adj, xmax = xvar + adj),\n        fill = \"#89D6FB\") +\n    geom_line(mapping = aes(x = xvar, y = yvar),\n        color = \"#9d40f5\", orientation = \"y\") + \n    labs(subtitle = \"xmin, xmin & orientation = 'y'\")"
  },
  {
    "objectID": "geoms/geom_step.html",
    "href": "geoms/geom_step.html",
    "title": "geom_step()",
    "section": "",
    "text": "Lines in ggplot2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_path()\ngeom_line()\ngeom_step()\n\n\n\n\n\nPackagesData\n\n\n\n\n\n\n\n\n\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"ggplot2\")\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\nLoad the ggplot2::economics data.\n\n\n\n\nCode\neconomics <- ggplot2::economics\ndplyr::glimpse(economics)\n\n\nRows: 574\nColumns: 6\n$ date     <date> 1967-07-01, 1967-08-01, 1967-09-01, 1967-10-01, 1967-11-01, …\n$ pce      <dbl> 506.7, 509.8, 515.6, 512.2, 517.4, 525.1, 530.9, 533.6, 544.3…\n$ pop      <dbl> 198712, 198911, 199113, 199311, 199498, 199657, 199808, 19992…\n$ psavert  <dbl> 12.6, 12.6, 11.9, 12.9, 12.8, 11.8, 11.7, 12.3, 11.7, 12.3, 1…\n$ uempmed  <dbl> 4.5, 4.7, 4.6, 4.9, 4.7, 4.8, 5.1, 4.5, 4.1, 4.6, 4.4, 4.4, 4…\n$ unemploy <dbl> 2944, 2945, 2958, 3143, 3066, 3018, 2878, 3001, 2877, 2709, 2…"
  },
  {
    "objectID": "geoms/geom_step.html#geom_step",
    "href": "geoms/geom_step.html#geom_step",
    "title": "geom_step()",
    "section": "geom_step()",
    "text": "geom_step()\n\nBasic UseAdditional AestheticsArguments\n\n\n\nBASICS:\n\n\n\n\nCode\nggp2_step_base <- ggplot(data = economics)\nggp2_step_base +\n    geom_step(mapping = aes(x = date, y = unemploy))\n\n\n\n\n\n\n\n\n\nAESTHETICS:\n\n\nThe required aesthetics are:\nOptional aesthetics include:\n\n\n\n\n\n\n\n\n\nARGUMENTS:"
  },
  {
    "objectID": "geoms/geom_curve.html",
    "href": "geoms/geom_curve.html",
    "title": "geom_curve()",
    "section": "",
    "text": "Complex lines in ggplot2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_curve()\ngeom_abline()\ngeom_segment()\ngeom_hline()\ngeom_vline()"
  },
  {
    "objectID": "geoms/geom_curve.html#geom_curve",
    "href": "geoms/geom_curve.html#geom_curve",
    "title": "geom_curve()",
    "section": "geom_curve()",
    "text": "geom_curve()\n\nBasic UseAdditional AestheticsArguments\n\n\n\nBASICS:\n\n\n\n\nCode\nggp2_curve_base <- ggplot(data = seals,\n  mapping = aes(x = long, y = lat)) \nggp2_curve_base +\n  geom_curve(aes(yend = lat + 1, xend = long + 1), \n      curvature = 2)\n\n\n\n\n\n\n\n\n\nAESTHETICS:\n\n\nThe required aesthetics are:\nOptional aesthetics include:\n\n\n\n\n\n\n\n\n\nARGUMENTS:"
  },
  {
    "objectID": "geoms/geom_path.html",
    "href": "geoms/geom_path.html",
    "title": "geom_path()",
    "section": "",
    "text": "Lines in ggplot2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_path()\n\n\n\ngeom_line()\ngeom_step()"
  },
  {
    "objectID": "geoms/geom_path.html#getting-set-up",
    "href": "geoms/geom_path.html#getting-set-up",
    "title": "geom_path()",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\n\n\n\n\n\n\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"ggplot2\")\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\nLoad the ggplot2::economics data.\n\n\n\n\nCode\neconomics <- ggplot2::economics\ndplyr::glimpse(economics)\n\n\nRows: 574\nColumns: 6\n$ date     <date> 1967-07-01, 1967-08-01, 1967-09-01, 1967-10-01, 1967-11-01, …\n$ pce      <dbl> 506.7, 509.8, 515.6, 512.2, 517.4, 525.1, 530.9, 533.6, 544.3…\n$ pop      <dbl> 198712, 198911, 199113, 199311, 199498, 199657, 199808, 19992…\n$ psavert  <dbl> 12.6, 12.6, 11.9, 12.9, 12.8, 11.8, 11.7, 12.3, 11.7, 12.3, 1…\n$ uempmed  <dbl> 4.5, 4.7, 4.6, 4.9, 4.7, 4.8, 5.1, 4.5, 4.1, 4.6, 4.4, 4.4, 4…\n$ unemploy <dbl> 2944, 2945, 2958, 3143, 3066, 3018, 2878, 3001, 2877, 2709, 2…"
  },
  {
    "objectID": "geoms/geom_path.html#geom_path",
    "href": "geoms/geom_path.html#geom_path",
    "title": "geom_path()",
    "section": "geom_path()",
    "text": "geom_path()\n\nBasic UseAestheticsAdditional Arguments\n\n\n\n\n\ngeom_path() connects the observations in the order in which they appear in the data.\n\n\nBASICS:\n\n\nBelow is a demonstration of a line graph using geom_path(), with a date variable mapped to the x axis, and a numeric (double) variable on the y axis.\n\n\n\n\nCode\nggp2_path_base <- ggplot(data = economics, \n    aes(x = date, y = unemploy))\nggp2_path_base + geom_path()\n\n\n\n\n\n\n\n\n\n\n\n\n\nAESTHETICS:\n\n\nThe required aesthetics are: x and y positions\n\n\n\n\nCode\nggp2_path_base <- ggplot(economics) \nggp2_path_base + \n    geom_path(aes(x = date, \n                  y = uempmed))\n\n\n\n\n\n\n\nOptional aesthetics include:\n\ncolor\nlinewidth\nalpha\nlinetype\ngroup\n\n\n\n\ncolor\n\nThe color aesthetic can be set or mapped, and is useful for differentiating categorical levels.\n\n\n\n\nCode\nggp2_path_base <- ggplot(economics) \nggp2_path_base_long <- ggplot(economics_long)\n# mapped color\nggp2_path_base_long + \n    geom_path(aes(x = date, \n        y = value01, \n        color = variable))\n# set color\nggp2_path_base + \n    geom_path(aes(x = date, \n        y = uempmed),\n        color = \"#007bff\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlinewidth\n\nThe linewidth determines the size of the line.\n\n\n\n\nCode\n# color, linewidth\nggp2_path_base_long + \n    geom_path(aes(x = date, \n        y = value01, \n        color = variable),\n        linewidth = 0.75)\n\n\n\n\n\n\n\n\n\n\n\n\nalpha\n\nThe alpha sets the opacity of the line (and is useful for overlapping lines).\n\n\n\n\nCode\n# color, alpha, linewidth\nggp2_path_base_long + \n    geom_path(aes(x = date, \n        y = value01, \n        color = variable), \n        alpha = 1 / 2,\n        linewidth = 0.75)\n\n\n\n\n\n\n\n\n\n\n\n\nlinetype\n\nThe linetype can be mapped or set with values from ggplot2-specs\n\n\n\n\nCode\n# map group, color, linetype, with facets \nggp2_path_base_long + \n    geom_path(aes(x = date, \n        y = value01, \n        color = variable, \n        group = variable,\n        linetype = variable)) + \n    facet_wrap(. ~ variable, ncol = 2) + \n    theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nARGUMENTS:\n\n\nWe’ve defined two functions for displaying the arguments in geom_path(): path_linetype() displays the different linetype options, and path_lines() displays the options for lineend and linejoin.\n\n\nlinetype\n\nWe’ve defined path_linetype(), a function that lets us quickly specify the linetype aesthetic for geom_path():\n\n\n\n\nCode\npath_linetype <- function(type = \"solid\") {\n    df <- data.frame(x = 1:5, y = c(5, 1, 4, 2, 7))\n    ggplot2::ggplot(data = df,\n        mapping = aes(x = x, y = y)) +\n            xlim(0.5, 5.5) +\n            ylim(0, 10) + \n        ggplot2::geom_path(\n            linewidth = 15,\n            lineend = \"round\",\n            linetype = \"solid\") + \n        ggplot2::geom_path(\n            linewidth = 1.5,\n            color = \"#ffffff\",\n            linetype = type) + \n        ggplot2::labs(subtitle = type)\n}\n\n\n\n\nThe white line displays the linetype against a black backdrop to enhance visibility. See the lineend argument in the section below:\n\n\n\n\nCode\n# manually set linetype\n# type = one of: \"solid\", \"dashed\", \"dotted\", \"dotdash\",\n# \"longdash\", \"twodash\"\npath_linetype(type = \"dashed\")\npath_linetype(type = \"dotted\")\npath_linetype(type = \"dotdash\")\npath_linetype(type = \"longdash\")\npath_linetype(type = \"twodash\")\npath_linetype(type = \"solid\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBelow the define path_lines(), which builds line graphs with geom_path()’s lineend and linejoin arguments set to \"round\", \"butt\", or \"square\" and \"bevel\", \"round\", and \"mitre\".\nThe linewidth (lw) and linemitre (lnmtr) can be adjusted to exaggerate their effects.\nWe’ve added white lines/points to illustrate the data points.\n\n\n\n\nCode\npath_lines <- function(lw = 5, lend = 'r', ljoin = 'r', lnmtr = NULL) {\n    lineends <- c('r' = 'round', 'b' = 'butt', 's' = 'square')\n    linejoins <- c('r' = 'round', 'm' = 'mitre', 'b' = 'bevel')\n    ljoin <- linejoins[ljoin]\n    lend <- lineends[lend]\n    df <- data.frame(x = 1:5, y = c(5, 1, 4, 2, 7))\n    ggplot2::ggplot(data = df,\n        mapping = aes(x = x, y = y)) +\n        xlim(0.5, 5.5) +\n        ylim(0, 10) +\n        ggplot2::geom_path(\n            linewidth = lw,\n            lineend = lend,\n            linejoin = ljoin,\n            linemitre = lnmtr\n        ) + \n        geom_path(color = \"#ffffff\") +\n        geom_point(size = 3, color = \"#ffffff\") +\n        ggplot2::labs(title = paste0(\n            \"lineend = \", lend,\n            \" / \", \n            \"linejoin = \", ljoin), \n            subtitle = paste0(\"linewidth = \", lw))\n}\n\n\n\n\n\n\n\n\nLineend: round\n\nA “round” line ending extends the line width slightly and produces curved caps at the start and end of the line (with the intersecting values at the center).\nThe white line/points are the data points\n\n\n\n\nCode\npath_lines(lw = 15, lend = \"r\", ljoin = \"r\") # round/round\npath_lines(lw = 15, lend = \"r\", ljoin = \"m\") # round/mitre \npath_lines(lw = 15, lend = \"r\", ljoin = \"b\") # round/bevel \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLinejoin: round\n\nA “round” line join produces a curve at the intersection of points on the line.\nThe white line/points are the data points\n\n\n\n\nCode\npath_lines(lw = 15, lend = \"r\", ljoin = \"r\") # round/round\npath_lines(lw = 15, lend = \"b\", ljoin = \"r\") # butt/round\npath_lines(lw = 15, lend = \"s\", ljoin = \"r\") # square/round\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLineend: butt\n\nA “butt” line end produces an abrupt ending at the start and end of the data points along the line.\nThe white line/points are the data points\n\n\n\n\nCode\npath_lines(lw = 15, lend = \"b\", ljoin = \"r\") # butt/round\npath_lines(lw = 15, lend = \"b\", ljoin = \"m\") # butt/mitre \npath_lines(lw = 15, lend = \"b\", ljoin = \"b\") # butt/bevel \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLinejoin: mitre\n\nA “mitre” line join extends the area of the line width between intersecting points, giving each connecting point a straight edge.\nThe white line/points are the data points\n\n\n\n\nCode\npath_lines(lw = 15, lend = \"b\", ljoin = \"m\") # butt/mitre \npath_lines(lw = 15, lend = \"s\", ljoin = \"m\") # square/mitre \npath_lines(lw = 15, lend = \"r\", ljoin = \"m\") # round/mitre \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLineend: square\n\nA “square” line ending extends the line width slightly and produces a square cap at the start and end of the line (with the intersecting values at the center).\nThe white line/points are the data points\n\n\n\n\nCode\npath_lines(lw = 15, lend = \"s\", ljoin = \"r\") # square/round\npath_lines(lw = 15, lend = \"s\", ljoin = \"m\") # square/mitre \npath_lines(lw = 15, lend = \"s\", ljoin = \"b\") # square/bevel\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLinejoin: bevel\n\nA “bevel” line join ‘shaves’ the line width at the intersection of data points and curves the line with by producing two additional angles (with the intersecting values at the center of the two angles).\nThe white line/points are the data points\n\n\n\n\nCode\npath_lines(lw = 15, lend = \"b\", ljoin = \"b\") # butt/bevel \npath_lines(lw = 15, lend = \"s\", ljoin = \"b\") # square/bevel\npath_lines(lw = 15, lend = \"r\", ljoin = \"b\") # round/bevel"
  },
  {
    "objectID": "geoms/geom_line.html",
    "href": "geoms/geom_line.html",
    "title": "geom_line()",
    "section": "",
    "text": "Lines in ggplot2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_path()\ngeom_line()\ngeom_step()\n\n\n\n\n\nPackagesData\n\n\n\n\n\n\n\n\n\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"ggplot2\")\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\nLoad the ggplot2::economics data.\n\n\n\n\nCode\neconomics <- ggplot2::economics\ndplyr::glimpse(economics)\n\n\nRows: 574\nColumns: 6\n$ date     <date> 1967-07-01, 1967-08-01, 1967-09-01, 1967-10-01, 1967-11-01, …\n$ pce      <dbl> 506.7, 509.8, 515.6, 512.2, 517.4, 525.1, 530.9, 533.6, 544.3…\n$ pop      <dbl> 198712, 198911, 199113, 199311, 199498, 199657, 199808, 19992…\n$ psavert  <dbl> 12.6, 12.6, 11.9, 12.9, 12.8, 11.8, 11.7, 12.3, 11.7, 12.3, 1…\n$ uempmed  <dbl> 4.5, 4.7, 4.6, 4.9, 4.7, 4.8, 5.1, 4.5, 4.1, 4.6, 4.4, 4.4, 4…\n$ unemploy <dbl> 2944, 2945, 2958, 3143, 3066, 3018, 2878, 3001, 2877, 2709, 2…"
  },
  {
    "objectID": "geoms/geom_line.html#geom_line",
    "href": "geoms/geom_line.html#geom_line",
    "title": "geom_line()",
    "section": "geom_line()",
    "text": "geom_line()\n\nBasic UseAdditional AestheticsArguments\n\n\n\nBASICS:\n\n\n\n\nCode\nggp2_line_base <- ggplot(data = economics)\nggp2_line_base +\n    geom_line(mapping = aes(x = date, y = unemploy))\n\n\n\n\n\n\n\n\n\nAESTHETICS:\n\n\nThe required aesthetics are:\nOptional aesthetics include:\n\n\n\n\n\n\n\n\n\nARGUMENTS:"
  },
  {
    "objectID": "geoms/geom_bar.html",
    "href": "geoms/geom_bar.html",
    "title": "geom_bar()",
    "section": "",
    "text": "PackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove the missing values from island, species, and sex from palmerpenguins::penguins\n\n\n\n\nCode\npeng_bar <- palmerpenguins::penguins |> \n    dplyr::filter(!is.na(island) & \n                    !is.na(species) & \n                        !is.na(sex))\nglimpse(peng_bar)\n\n\nRows: 333\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 41.1, 38.6…\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 17.6, 21.2…\n$ flipper_length_mm <int> 181, 186, 195, 193, 190, 181, 195, 182, 191, 198, 18…\n$ body_mass_g       <int> 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3200, 3800…\n$ sex               <fct> male, female, female, female, male, female, male, fe…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_bar()\n\n\n\n\n\n\nggplot_build()\"data\"\"plot\"\n\n\n\nggplot_build():\n\n\n\n\nCode\nggp2_bar_base <- ggplot(data = peng_bar)\nggp2_bar_x <- ggp2_bar_base + \n    geom_bar(mapping = aes(x = island))\n\n\n\n\nCode\nbld_ggp2_bar_x <- ggplot2::ggplot_build(ggp2_bar_x)\nnames(bld_ggp2_bar_x)\n\n\n[1] \"data\"   \"layout\" \"plot\"  \n\n\n\n\n\n\ngeom_bar(): data\n\n\nExtract the data from the ggplot2 object.\n\n\n\n\nCode\nbar_x_data <- bld_ggp2_bar_x[[\"data\"]][[1]]\nglimpse(bar_x_data)\n\n\nRows: 3\nColumns: 16\n$ y           <dbl> 163, 123, 47\n$ count       <dbl> 163, 123, 47\n$ prop        <dbl> 1, 1, 1\n$ x           <mppd_dsc> 1, 2, 3\n$ flipped_aes <lgl> FALSE, FALSE, FALSE\n$ PANEL       <fct> 1, 1, 1\n$ group       <int> 1, 2, 3\n$ ymin        <dbl> 0, 0, 0\n$ ymax        <dbl> 163, 123, 47\n$ xmin        <mppd_dsc> 0.55, 1.55, 2.55\n$ xmax        <mppd_dsc> 1.45, 2.45, 3.45\n$ colour      <lgl> NA, NA, NA\n$ fill        <chr> \"grey35\", \"grey35\", \"grey35\"\n$ linewidth   <dbl> 0.5, 0.5, 0.5\n$ linetype    <dbl> 1, 1, 1\n$ alpha       <lgl> NA, NA, NA\n\n\nCode\nselect(bar_x_data, fill)\n\n\n    fill\n1 grey35\n2 grey35\n3 grey35\n\n\n\n\n\n\ngeom_bar(): plot\n\n\nExtract the \"plot\" from bld_ object:\n\n\n\n\nCode\nbld_ggp2_bar_x[[\"plot\"]]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_bar(fill)\n\n\n\n\n\n\nggplot_build()\"data\"\"plot\"\n\n\n\nggplot_build():\n\n\nBuild geom_bar(fill) layers:\nggp2_bar_fill and ggp2_bar_fill2\n\n\n\n\nCode\nggp2_bar_fill <- ggp2_bar_base + \n    geom_bar(mapping = aes(x = island, \n        fill = island), show.legend = FALSE)\nggp2_bar_fill2 <- ggp2_bar_base + \n    geom_bar(mapping = aes(x = island, \n        fill = sex)) \n\n\n\n\nCreate bld_bar_fill and bld_bar_fill2 objects\n\n\n\n\nCode\nbld_bar_fill <- ggplot2::ggplot_build(ggp2_bar_fill)\nnames(bld_bar_fill)\n\n\n[1] \"data\"   \"layout\" \"plot\"  \n\n\nCode\nbld_bar_fill2 <- ggplot2::ggplot_build(ggp2_bar_fill2)\nnames(bld_bar_fill2)\n\n\n[1] \"data\"   \"layout\" \"plot\"  \n\n\n\n\n\n\nExtract \"data\" from bld_ objects\n\n\n\n\nCode\nbar_fill_data <- bld_bar_fill[[\"data\"]][[1]]\nglimpse(bar_fill_data)\n\n\nRows: 3\nColumns: 16\n$ fill        <chr> \"#F8766D\", \"#00BA38\", \"#619CFF\"\n$ y           <dbl> 163, 123, 47\n$ count       <dbl> 163, 123, 47\n$ prop        <dbl> 1, 1, 1\n$ x           <mppd_dsc> 1, 2, 3\n$ flipped_aes <lgl> FALSE, FALSE, FALSE\n$ PANEL       <fct> 1, 1, 1\n$ group       <int> 1, 2, 3\n$ ymin        <dbl> 0, 0, 0\n$ ymax        <dbl> 163, 123, 47\n$ xmin        <mppd_dsc> 0.55, 1.55, 2.55\n$ xmax        <mppd_dsc> 1.45, 2.45, 3.45\n$ colour      <lgl> NA, NA, NA\n$ linewidth   <dbl> 0.5, 0.5, 0.5\n$ linetype    <dbl> 1, 1, 1\n$ alpha       <lgl> NA, NA, NA\n\n\nCode\ndplyr::select(bar_fill_data, x, y, fill)\n\n\n  x   y    fill\n1 1 163 #F8766D\n2 2 123 #00BA38\n3 3  47 #619CFF\n\n\n\n\nExtract \"data\" from bld_ objects\n\n\n\n\nCode\nbar_fill2_data <- bld_bar_fill2[[\"data\"]][[1]]\nglimpse(bar_fill2_data)\n\n\nRows: 6\nColumns: 16\n$ fill        <chr> \"#F8766D\", \"#00BFC4\", \"#F8766D\", \"#00BFC4\", \"#F8766D\", \"#0…\n$ y           <dbl> 163, 83, 123, 62, 47, 23\n$ count       <dbl> 80, 83, 61, 62, 24, 23\n$ prop        <dbl> 1, 1, 1, 1, 1, 1\n$ x           <mppd_dsc> 1, 1, 2, 2, 3, 3\n$ flipped_aes <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE\n$ PANEL       <fct> 1, 1, 1, 1, 1, 1\n$ group       <int> 1, 2, 3, 4, 5, 6\n$ ymin        <dbl> 83, 0, 62, 0, 23, 0\n$ ymax        <dbl> 163, 83, 123, 62, 47, 23\n$ xmin        <mppd_dsc> 0.55, 0.55, 1.55, 1.55, 2.55, 2.55\n$ xmax        <mppd_dsc> 1.45, 1.45, 2.45, 2.45, 3.45, 3.45\n$ colour      <lgl> NA, NA, NA, NA, NA, NA\n$ linewidth   <dbl> 0.5, 0.5, 0.5, 0.5, 0.5, 0.5\n$ linetype    <dbl> 1, 1, 1, 1, 1, 1\n$ alpha       <lgl> NA, NA, NA, NA, NA, NA\n\n\nCode\ndplyr::count(bar_fill2_data, x, y, fill) |> \n    tidyr::pivot_wider(names_from = x,\n        values_from = n)\n\n\n# A tibble: 6 × 5\n      y fill      `1`   `2`   `3`\n  <dbl> <chr>   <int> <int> <int>\n1    83 #00BFC4     1    NA    NA\n2   163 #F8766D     1    NA    NA\n3    62 #00BFC4    NA     1    NA\n4   123 #F8766D    NA     1    NA\n5    23 #00BFC4    NA    NA     1\n6    47 #F8766D    NA    NA     1\n\n\n\n\n\n\nExtract \"plot\" from bld_ objects\n\n\n\n\nCode\nbld_bar_fill[[\"plot\"]]\n\n\n\n\n\n\n\nExtract \"plot\" from bld_ objects\n\n\n\n\nCode\nbld_bar_fill2[[\"plot\"]]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_bar(position = \"dodge\")\n\n\n\n\n\n\nggplot_build()\"data\"\"plot\"\n\n\n\nggplot_build():\n\n\nBuild geom_bar(position = \"dodge\") layer:\n\n\n\n\nCode\nggp2_bar_dodge <- ggp2_bar_base + \n    geom_bar(mapping = \n            aes(x = island, fill = sex),\n                position = \"dodge\") \n\n\n\n\nCreate bld_bar_dodge object:\n\n\n\n\nCode\nbld_bar_dodge <- ggplot2::ggplot_build(ggp2_bar_dodge)\nnames(bld_bar_dodge)\n\n\n[1] \"data\"   \"layout\" \"plot\"  \n\n\n\n\n\n\ngeom_bar(position = \"dodge\"): data:\n\n\nExtract the \"data\" from the bld_bar_dodge object.\n\n\n\n\nCode\nbar_dodge_data <- bld_bar_dodge[[\"data\"]][[1]]\nglimpse(bar_dodge_data)\n\n\nRows: 6\nColumns: 16\n$ fill        <chr> \"#F8766D\", \"#00BFC4\", \"#F8766D\", \"#00BFC4\", \"#F8766D\", \"#0…\n$ y           <dbl> 80, 83, 61, 62, 24, 23\n$ count       <dbl> 80, 83, 61, 62, 24, 23\n$ prop        <dbl> 1, 1, 1, 1, 1, 1\n$ x           <mppd_dsc> 0.775, 1.225, 1.775, 2.225, 2.775, 3.225\n$ flipped_aes <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE\n$ PANEL       <fct> 1, 1, 1, 1, 1, 1\n$ group       <int> 1, 2, 3, 4, 5, 6\n$ ymin        <dbl> 0, 0, 0, 0, 0, 0\n$ ymax        <dbl> 80, 83, 61, 62, 24, 23\n$ xmin        <mppd_dsc> 0.55, 1.00, 1.55, 2.00, 2.55, 3.00\n$ xmax        <mppd_dsc> 1.00, 1.45, 2.00, 2.45, 3.00, 3.45\n$ colour      <lgl> NA, NA, NA, NA, NA, NA\n$ linewidth   <dbl> 0.5, 0.5, 0.5, 0.5, 0.5, 0.5\n$ linetype    <dbl> 1, 1, 1, 1, 1, 1\n$ alpha       <lgl> NA, NA, NA, NA, NA, NA\n\n\nCode\nselect(bar_dodge_data, x, y, fill)\n\n\n      x  y    fill\n1 0.775 80 #F8766D\n2 1.225 83 #00BFC4\n3 1.775 61 #F8766D\n4 2.225 62 #00BFC4\n5 2.775 24 #F8766D\n6 3.225 23 #00BFC4\n\n\n\n\n\n\ngeom_bar(position = \"dodge\"): plot:\n\n\nExtract the \"plot\" from the bld_bar_dodge object.\n\n\n\n\nCode\nbld_bar_dodge[[\"plot\"]]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_bar(position = \"dodge2\")\n\n\n\n\n\n\nggplot_build()\"data\"\"plot\"\n\n\n\nggplot_build():\n\n\nBuild geom_bar(position = \"dodge2\") layer:\n\n\n\n\nCode\nggp2_bar_dodge2 <- ggp2_bar_base + \n    geom_bar(mapping = \n            aes(x = island, fill = sex),\n                position = \"dodge2\") \n\n\n\n\nCreate bld_bar_dodge2 object:\n\n\n\n\nCode\nbld_bar_dodge2 <- ggplot2::ggplot_build(ggp2_bar_dodge2)\nnames(bld_bar_dodge2)\n\n\n[1] \"data\"   \"layout\" \"plot\"  \n\n\n\n\n\n\ngeom_bar(position = \"dodge2\"): data:\n\n\nExtract the \"data\" from the bld_bar_dodge2 object.\n\n\n\n\nCode\nbar_dodge2_data <- bld_bar_dodge2[[\"data\"]][[1]]\nglimpse(bar_dodge2_data)\n\n\nRows: 6\nColumns: 16\n$ fill        <chr> \"#F8766D\", \"#00BFC4\", \"#F8766D\", \"#00BFC4\", \"#F8766D\", \"#0…\n$ y           <dbl> 80, 83, 61, 62, 24, 23\n$ count       <dbl> 80, 83, 61, 62, 24, 23\n$ prop        <dbl> 1, 1, 1, 1, 1, 1\n$ x           <mppd_dsc> 0.775, 1.225, 1.775, 2.225, 2.775, 3.225\n$ flipped_aes <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE\n$ PANEL       <fct> 1, 1, 1, 1, 1, 1\n$ group       <int> 1, 2, 3, 4, 5, 6\n$ ymin        <dbl> 0, 0, 0, 0, 0, 0\n$ ymax        <dbl> 80, 83, 61, 62, 24, 23\n$ xmin        <mppd_dsc> 0.5725, 1.0225, 1.5725, 2.0225, 2.5725, 3.0225\n$ xmax        <mppd_dsc> 0.9775, 1.4275, 1.9775, 2.4275, 2.9775, 3.4275\n$ colour      <lgl> NA, NA, NA, NA, NA, NA\n$ linewidth   <dbl> 0.5, 0.5, 0.5, 0.5, 0.5, 0.5\n$ linetype    <dbl> 1, 1, 1, 1, 1, 1\n$ alpha       <lgl> NA, NA, NA, NA, NA, NA\n\n\nCode\nselect(bar_dodge2_data, x, y, fill)\n\n\n      x  y    fill\n1 0.775 80 #F8766D\n2 1.225 83 #00BFC4\n3 1.775 61 #F8766D\n4 2.225 62 #00BFC4\n5 2.775 24 #F8766D\n6 3.225 23 #00BFC4\n\n\n\n\n\n\ngeom_bar(position = \"dodge2\"): plot:\n\n\nExtract the \"plot\" from the bld_bar_dodge2 object.\n\n\n\n\nCode\nbld_bar_dodge2[[\"plot\"]]"
  },
  {
    "objectID": "uni/frequency_polygons.html",
    "href": "uni/frequency_polygons.html",
    "title": "Frequency Polygons",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nFrequency polygons are similar to histograms, but they use lines instead of bars to represent the variable’s distribution. The height of the line represents the frequency (or count) of the value occurrence.\nWhen viewing frequency polygons, we’re still assessing the shape of the lines for symmetry and skewness.."
  },
  {
    "objectID": "uni/frequency_polygons.html#getting-set-up",
    "href": "uni/frequency_polygons.html#getting-set-up",
    "title": "Frequency Polygons",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "uni/frequency_polygons.html#the-grammar",
    "href": "uni/frequency_polygons.html#the-grammar",
    "title": "Frequency Polygons",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap flipper_length_mm to the x axis\nAdd the geom_freqpoly() layer\n\n\n\n\nCode\nlabs_freqpoly <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Distribution of flipper length\",\n  x = \"Flipper length (millimeters)\")\nggp2_freqpoly <- ggplot(data = penguins,\n      aes(x = flipper_length_mm)) + \n    geom_freqpoly()\nggp2_freqpoly + \n  labs_freqpoly\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\n\nExperiment to see how many bins fit your variable’s distribution"
  },
  {
    "objectID": "uni/histograms.html",
    "href": "uni/histograms.html",
    "title": "Histograms",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nHistograms are a special kind of bar-graph. The x axis is divided into ‘bins’ that cover the range of a variable’s values, and the height of the bars is the frequency (or count) of the value occurrence (on the y axis).\nUnlike a typical bar-graph, histograms can be used to visually asses the ‘normality’ (i.e. are the bars symmetrical, with a single peak in the middle of the x axis, or do the bars form multiple peaks?) or ‘skewness’ (i.e., is there a long ‘tail’ of bars with decreasing length on either end of the x axis?) of a variable’s distribution."
  },
  {
    "objectID": "uni/histograms.html#getting-set-up",
    "href": "uni/histograms.html#getting-set-up",
    "title": "Histograms",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data.\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "uni/histograms.html#the-grammar",
    "href": "uni/histograms.html#the-grammar",
    "title": "Histograms",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nAssign flipper_length_mm to the x\nAdd the geom_histogram()\nAdjust the bins accordingly\n\n\n\n\nCode\nlabs_histogram <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Distribution of flipper length\",\n  x = \"Flipper length (millimeters)\")\n\nggp2_hist <- ggplot(data = penguins,\n     aes(x = flipper_length_mm)) + \n     geom_histogram() \n\nggp2_hist + \n  labs_histogram\n\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\n\n\n\n\n\nThe standard number of bins is 30, but ‘you should always override this value, exploring multiple widths to find the best to illustrate the stories in your data.’"
  },
  {
    "objectID": "uni/dot_plots.html",
    "href": "uni/dot_plots.html",
    "title": "Dot-plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nDot-plots are similar to histograms and frequency polygons, except instead of using bars or lines, they use dots to represent the frequency (or count) of values for a given variable."
  },
  {
    "objectID": "uni/dot_plots.html#getting-set-up",
    "href": "uni/dot_plots.html#getting-set-up",
    "title": "Dot-plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "uni/dot_plots.html#the-grammar",
    "href": "uni/dot_plots.html#the-grammar",
    "title": "Dot-plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap flipper_length_mm to the x axis\nAdd the geom_dotplot() layer\nAdjust the dotsize\n\n\n\n\nCode\nlabs_dotplot <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Distribution of flipper length\",\n  x = \"Flipper length (millimeters)\")\nggp2_dotplot <- ggplot(data = penguins,\n      aes(x = flipper_length_mm)) + \n    geom_dotplot(dotsize = 0.5) \nggp2_dotplot + \n  labs_dotplot\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "uni/density_plots.html",
    "href": "uni/density_plots.html",
    "title": "Density Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nDensity plots are similar to a histogram or frequency polygon, except the outline of the distribution has been ‘smoothed.’\nInstead of dividing the x axis into discrete ‘bins’ to create groupings for the variable’s values, density plots transform the distribution according to a kernel density estimate."
  },
  {
    "objectID": "uni/density_plots.html#getting-set-up",
    "href": "uni/density_plots.html#getting-set-up",
    "title": "Density Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data.\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "uni/density_plots.html#the-grammar",
    "href": "uni/density_plots.html#the-grammar",
    "title": "Density Plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap flipper_length_mm to the x axis\nAdd the geom_density() layer\n\n\n\n\nCode\nlabs_density <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Distribution of flipper length\",\n  x = \"Flipper length (millimeters)\")\nggp2_density <- ggplot(data = penguins, \n        aes(x = flipper_length_mm)) + \n      geom_density() \n\nggp2_density +\n  labs_density\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "uni/box_plots.html",
    "href": "uni/box_plots.html",
    "title": "Box-Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nBox-plots (sometimes called box-and-whisker plots) use position, lines (vertical and horizontal), and points to convey a collection of summary statistics in a single graph."
  },
  {
    "objectID": "uni/box_plots.html#getting-set-up",
    "href": "uni/box_plots.html#getting-set-up",
    "title": "Box-Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nWe’ll be using the penguins data from palmerpenguins.\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins \nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "uni/box_plots.html#the-grammar",
    "href": "uni/box_plots.html#the-grammar",
    "title": "Box-Plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\n\nAssign a blank character string (\"\") to the x axis in labs()\n\nMap flipper_length_mm to the y axis and an empty string (\"\") to the x axis\nAdd the geom_boxplot() layer\n\n\n\n\nCode\nlabs_boxplot <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Distribution of flipper length\",\n  x = \"\",\n  y = \"Flipper length (millimeters)\")\nggp2_boxplot <- ggplot(data = penguins,\n           aes(x = \"\", \n               y = flipper_length_mm)) +\n        geom_boxplot() \nggp2_boxplot + \n  labs_boxplot\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\n\n\n\n\n\n\n\n\n\n\nMore Info\nBelow we provide more information on interpreting box-plots.\n\nmovies dataGraphInterpretCompare\n\n\n\nWe’ll use the ggplot2movies::movies data to create a box-plot for movie length\n\n\n\n\nCode\ninstall.packages(\"ggplot2movies\")\nlibrary(ggplot2movies) \nlibrary(ggplot2)\n\n\n\n\nFilter ggplot2movies::movies to only include films after the made after 2000, and remove missing values from mpaa and budget\n\n\n\n\nCode\nmovies_box <- ggplot2movies::movies |> \n                dplyr::filter(year > 2000 & \n                                mpaa != \"\" & \n                                    !is.na(budget))\nhead(movies_box)\n\n\n# A tibble: 6 × 24\n  title      year length budget rating votes    r1    r2    r3    r4    r5    r6\n  <chr>     <int>  <int>  <int>  <dbl> <int> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n1 100 Mile…  2002     98  1.1e6    5.6   181   4.5   4.5   4.5   4.5  14.5  24.5\n2 13 Going…  2004     98  3.7e7    6.4  7859   4.5   4.5   4.5   4.5   4.5  14.5\n3 15 Minut…  2001    120  4.2e7    6.1 10866   4.5   4.5   4.5   4.5  14.5  24.5\n4 2 Fast 2…  2003    107  7.6e7    5.1  9556  14.5   4.5   4.5   4.5  14.5  14.5\n5 2046       2004    129  1.2e7    7.6  2663   4.5   4.5   4.5   4.5   4.5   4.5\n6 21 Grams   2003    124  2  e7    8   21857   4.5   4.5   4.5   4.5   4.5   4.5\n# … with 12 more variables: r7 <dbl>, r8 <dbl>, r9 <dbl>, r10 <dbl>,\n#   mpaa <chr>, Action <int>, Animation <int>, Comedy <int>, Drama <int>,\n#   Documentary <int>, Romance <int>, Short <int>\n\n\n\n\n\n\nBelow we create a box-plot of the length variable using the methods described above:\n\n\n\n\nCode\nlabs_boxplot <- labs(\n  title = \"IMDB Movie information and user ratings\",\n  y = \"Movie length (min)\", x = \"\")\nggp2_boxplot <- ggplot(data = movies_box, \n           aes(x = \" \", \n               y = length)) +\n        geom_boxplot() \n\nggp2_boxplot + \n  labs_boxplot\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe table below shows the 25th percentile, the median, the 75th percentile, the IQR, and a histogram of the length variable from the movies_box dataset.\n\n\n\n\n\n\n \n  \n    25th \n    Median \n    75th \n    IQR \n    Histogram \n  \n \n\n  \n    92 \n    100 \n    113 \n    21 \n    ▁▇▅▁▁ \n  \n\n\n\n\n\n\n\nThe figure below displays how each element in the box-plot represents each of the statistics using lines and points.\n\n\n\n\nIn ggplot2, values that fall more than 1.5 times the IQR are displayed as individual points (aka outliers). The lines extending from the bottom and top of the main box represent the last non-outlier value in the distribution.\n\n\n\n\n\n\n\n\n\nCompare the geom_point(), geom_freqpoly(), geom_histogram(), and geom_density() graphs of length from movie_box below to the geom_boxplot():"
  },
  {
    "objectID": "uni/violin_plot.html",
    "href": "uni/violin_plot.html",
    "title": "Violin Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nViolin plots will display the distribution of a single numeric (continuous) variable. If you’re trying to view the shape of a continuous distribution across the groups or levels of a categorical variable, check out grouped violin plots.\nThe violin plot is essentially a mirrored density plot, in which a smoothed distribution is plotted symmetrically across the x or y axis, creating a Rorschach-like inkblot area for the distribution:\n\n\n\nsource: Rorschach test, Wikipedia"
  },
  {
    "objectID": "uni/violin_plot.html#getting-set-up",
    "href": "uni/violin_plot.html#getting-set-up",
    "title": "Violin Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data.\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "uni/violin_plot.html#the-grammar",
    "href": "uni/violin_plot.html#the-grammar",
    "title": "Violin Plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\n\nPlace an empty string (\"\") in the x argument\n\nMap and empty string (\"\") to the x and flipper_length_mm to the y\nAdd geom_violin()\n\n\n\n\nCode\nlabs_violin <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Distribution of flipper length\",\n  x = \"\",\n  y = \"Flipper length (millimeters)\")\nggp2_violin <- ggplot(data = penguins,\n       aes(x = '', \n           y = flipper_length_mm)) +\n       geom_violin() \nggp2_violin + \n  labs_violin\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "uni/bar_graphs.html",
    "href": "uni/bar_graphs.html",
    "title": "Bar-graphs",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nA bar-graph (or bar-chart) is typically used to display counts for the discrete levels of a categorical variable, like political affiliation, hair color, or race/ethnicity (or species of penguin!).\nBar charts can be arranged vertically or horizontally, but the length of the bar represents the ‘count’ for each category value."
  },
  {
    "objectID": "uni/bar_graphs.html#getting-set-up",
    "href": "uni/bar_graphs.html#getting-set-up",
    "title": "Bar-graphs",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nFilter the missing values from species in the palmerpenguins::penguins data and store it in penguins_bar.\n\n\n\n\nCode\npenguins_bar <- palmerpenguins::penguins |> \n    dplyr::filter(!is.na(species))\nglimpse(penguins_bar)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "uni/bar_graphs.html#the-grammar",
    "href": "uni/bar_graphs.html#the-grammar",
    "title": "Bar-graphs",
    "section": "The grammar",
    "text": "The grammar\nIn ggplot2, bar charts can be built using geom_bar() (see also: geom_col()).\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels with labs()\nMap species to the x axis\nMap species to the fill aesthetic inside the aes() of geom_bar()\nRemove the legend with show.legend = FALSE\n\n\n\n\nCode\nlabs_bar <- labs(\n  title = \"Adult foraging penguins\",\n  subtitle = \"Distribution of flipper length\",\n  x = \"Species\", y = \"Count\", \n  fill = \"Species\")\nggp2_bar <- ggplot(data = penguins_bar,\n       aes(x = species)) +\n    geom_bar(aes(fill = species), \n        show.legend = FALSE)\nggp2_bar +\n  labs_bar\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "uni/bar_graphs.html#more-info",
    "href": "uni/bar_graphs.html#more-info",
    "title": "Bar-graphs",
    "section": "More info",
    "text": "More info\nBelow we cover why geom_bar(stat = \"count\") produces the same result as stat_count(geom = \"bar\").\nThe connection between statistical transformations and geoms is an important principle for building graphs (and mastering the grammar) with ggplot2: We’ll also show how to create bar charts with geom_col().\n\n\n\n“You only need to set one of stat and geom: every geom has a default stat, and every stat a default geom.” - ggplot2 book\n\n\nstat_s and geom_sgeom_col()\n\n\n\nstat_count():\n\n\nThe default stat argument in geom_bar() is set to \"count\", which counts the number of cases at each x position, so it’s ideal for categorical variables (or factors). The stat_count() function can also be used to create bar-graphs using the geom argument.\nThe link between geom_[geom_name](stat = \"[stat_name]\") and stat_[stat_name](geom = \"[geom_name]\") is shown below:\n\n\n\n\nCode\nggp2_geom_bar <- ggplot(data = penguins_bar,\n       aes(x = species)) +\n    geom_bar(aes(fill = species), \n        stat = \"count\") + \n    labs(title = \"geom_bar(stat = 'count')\")\nggp2_geom_bar\nggp2_stat_count <- ggplot(data = penguins_bar,\n       aes(x = species)) +\n    stat_count(aes(fill = species), \n        geom = \"bar\") + \n    labs(title = \"stat_count(geom = 'bar')\")\nggp2_stat_count\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngeom_col:\n\n\nTo create a bar-graph with geom_col(), the count variable needs to be computed before being mapped into the graph y aesthetic.\n\n\n\n\nCode\npenguins_bar |> \n    # create column of counts \n    dplyr::count(species, name = \"count\") |> \n    # map into x and y\n    ggplot(mapping = aes(x = species, y = count)) +\n    geom_col(aes(fill = species), \n        show.legend = FALSE) + \n    labs_bar +\n    labs(caption = \"*created with geom_col()\")\n# compare to geom_bar()\nggp2_bar +\n  labs_bar"
  },
  {
    "objectID": "rela/scatter_plot.html",
    "href": "rela/scatter_plot.html",
    "title": "Scatter-Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nScatter plots are used to display two continuous variables.\nIf one of the continuous variables is assumed to affect the other (i.e., outcome vs. predictor), place the outcome on the y axis and the predictor on the x axis."
  },
  {
    "objectID": "rela/scatter_plot.html#getting-set-up",
    "href": "rela/scatter_plot.html#getting-set-up",
    "title": "Scatter-Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "rela/scatter_plot.html#the-grammar",
    "href": "rela/scatter_plot.html#the-grammar",
    "title": "Scatter-Plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap bill_length_mm to the x axis\nMap flipper_length_mm to the y axis\nAdd geom_point()\n\n\n\n\nCode\nlabs_scatter <- labs(\n  title = \"Bill Length vs. Flipper Length\",\n  x = \"Bill Length (mm)\", y = \"Flipper length (mm)\")\nggp2_scatter <- penguins |>\n  ggplot(\n    aes(x = bill_length_mm, \n      y = flipper_length_mm)) +\n  geom_point()\n\nggp2_scatter + \n  labs_scatter\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\nIf multiple points occupy the same value position, use transparency (alpha) to improve visibility."
  },
  {
    "objectID": "rela/correlograms.html",
    "href": "rela/correlograms.html",
    "title": "Correlograms",
    "section": "",
    "text": "PackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\n# install.packages(\"palmerpenguins\")\n# library(palmerpenguins) \n# library(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\n\nCode\n# penguins <- palmerpenguins::penguins\n# glimpse(penguins)\n\n\n\n\n\n\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/line_graphs.html",
    "href": "rela/line_graphs.html",
    "title": "Line graphs",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\n\n\nLine graphs display changes of a numeric quantitative variable (on the y axis) over time (on the x axis). Color, line style, and faceting can be used to show group changes for categorical variables."
  },
  {
    "objectID": "rela/line_graphs.html#getting-set-up",
    "href": "rela/line_graphs.html#getting-set-up",
    "title": "Line graphs",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"fivethirtyeight\")\nlibrary(fivethirtyeight)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\n\n\n\nWe’ll be using the US_births_1994_2003 and US_births_2000_2014 datasets from the fivethirtyeight package:\n\nBinding these together (they have identical columns)\nCreate a day_category variable that distinguishes between weekdays (Weekends) and weekends (Weekday)\nUse year and month to create yr_mnth\nUse year and quarter to create yr_qtr\n\nSave these changes to usbirth_1994_2014:\n\n\n\n\nCode\nusbirth_1994_2014 <- fivethirtyeight::US_births_2000_2014 |>\n    dplyr::bind_rows(fivethirtyeight::US_births_1994_2003) |> \n    dplyr::mutate(\n        day_category = case_when(\n            day_of_week %in% c(\"Sun\", \"Sat\") ~ \"Weekend\",\n            day_of_week %nin% c(\"Sun\", \"Sat\") ~ \"Weekday\",\n            TRUE ~ NA_character_\n        ),\n        month = dplyr::if_else(\n            condition = month < 10,\n            true = paste0(\"0\", month),\n            false = as.character(month)\n        ),\n        yr_mnth = paste0(year, \"-\", month),\n        yr_mnth = lubridate::ym(yr_mnth),\n        yr_qtr = paste0(lubridate::year(date),\n                              \"/0\", \n                              quarter(date)),\n        yr_qtr = factor(yr_qtr, ordered = TRUE)\n    )\ndplyr::glimpse(usbirth_1994_2014)\n\n\nRows: 9,131\nColumns: 9\n$ year          <int> 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 2000, 20…\n$ month         <chr> \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"01\", \"0…\n$ date_of_month <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 1…\n$ date          <date> 2000-01-01, 2000-01-02, 2000-01-03, 2000-01-04, 2000-01…\n$ day_of_week   <ord> Sat, Sun, Mon, Tues, Wed, Thurs, Fri, Sat, Sun, Mon, Tue…\n$ births        <int> 9083, 8006, 11363, 13032, 12558, 12466, 12516, 8934, 794…\n$ day_category  <chr> \"Weekend\", \"Weekend\", \"Weekday\", \"Weekday\", \"Weekday\", \"…\n$ yr_mnth       <date> 2000-01-01, 2000-01-01, 2000-01-01, 2000-01-01, 2000-01…\n$ yr_qtr        <ord> 2000/01, 2000/01, 2000/01, 2000/01, 2000/01, 2000/01, 20…\n\n\n\n\nWe’ll use these data in the More info section for more line graphs, but for now:\n\nGroup usbirth_1994_2014 on year and day_category\nCalculate the average births as avg_births\n\nStore the data in avg_birth_day_cat_yr:\n\n\n\n\nCode\navg_birth_day_cat_yr <- usbirth_1994_2014 |>\n    dplyr::group_by(year, day_category) |>\n    dplyr::summarise(avg_births = mean(births, na.rm = TRUE)) |>\n    dplyr::ungroup() \ndplyr::glimpse(avg_birth_day_cat_yr)\n\n\nRows: 42\nColumns: 3\n$ year         <int> 1994, 1994, 1995, 1995, 1996, 1996, 1997, 1997, 1998, 199…\n$ day_category <chr> \"Weekday\", \"Weekend\", \"Weekday\", \"Weekend\", \"Weekday\", \"W…\n$ avg_births   <dbl> 11728.012, 8604.610, 11593.150, 8432.095, 11533.958, 8361…"
  },
  {
    "objectID": "rela/line_graphs.html#the-grammar",
    "href": "rela/line_graphs.html#the-grammar",
    "title": "Line graphs",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\n\nCreate labels\nMap yr_mnth to the x, avg_births to the y, and day_category to group\nAdd the geom_line() layer and map day_category to color (inside aes())\n\n\n\n\n\nCode\nlabs_line_graph <- labs(title = \"Average US births\", \n                        subtitle = \"1994-2014\",\n                        y = \"Average number of US births\",\n                        x = \"Year\",  \n                        color = \"Day Category\")\n\nggp2_line <- ggplot(data = avg_birth_day_cat_yr, \n       mapping = aes(x = year, \n                     y = avg_births, \n                     group = day_category)) + \n    geom_line(aes(color = day_category)) \nggp2_line + \n    labs_line_graph\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/line_graphs.html#more-info",
    "href": "rela/line_graphs.html#more-info",
    "title": "Line graphs",
    "section": "More info",
    "text": "More info\nLine graphs are great for displaying relationships across variables with multiple groups (or levels). We can also use facets for multiple comparisons (i.e., small multiples).\n\nGroupsLine StylesLabelsFacets\n\n\n\nDATA:\n\n\nIn the previous graph, we can see the number of births begins to decline around 2007 or 2008. We’ll create another summarized dataset from the usbirth_2010_2014 data, but this time we restrict the observations to only births in between 2008 and 2009, group on yr_qtr and day_of_week, and get the average number of births (as avg_births).\n\n\n\n\nCode\navg_births_dow_qtr <- usbirth_1994_2014 |>\n    dplyr::filter(year >= 2008 & year <= 2009) |> \n    dplyr::group_by(yr_qtr, day_of_week) |>\n    dplyr::summarise(avg_births = mean(births, na.rm = TRUE)) |>\n    dplyr::ungroup() \ndplyr::glimpse(avg_births_dow_qtr)\n\n\nRows: 56\nColumns: 3\n$ yr_qtr      <ord> 2008/01, 2008/01, 2008/01, 2008/01, 2008/01, 2008/01, 2008…\n$ day_of_week <ord> Sun, Mon, Tues, Wed, Thurs, Fri, Sat, Sun, Mon, Tues, Wed,…\n$ avg_births  <dbl> 7497.231, 12464.385, 13099.692, 13139.000, 13499.231, 1316…\n\n\n\n\nGROUPS:\n\n\nNow when we create our line graph, we will have a categorical variable with seven levels (day_of_week):\n\nCreate subtitle using paste0() to ensure it’s accurate if/when the underlying data is updated.\n\nmove the legend to the top of the graph using theme(legend.position = \"top\") (to improve readability).\n\n\n\n\n\nCode\n# here we create the labels (with the subtitle updating with the data)\nlabs_line_graph_grp <- labs(title = \"Average US births\", \n                        subtitle = paste0(\"Between \",\n                                    min(avg_births_dow_qtr$yr_qtr), \n                                    \" and \",\n                                    max(avg_births_dow_qtr$yr_qtr)),\n                        y = \"Average births\", \n                        x = \"Year/Quarter\",  \n                        color = \"Day of Week\")\n\n\n\n\n\n\n\n\n\nCode\n# Build layer with yr_qtr and day_of_week\nggp2_line_grp <- ggplot(data = avg_births_dow_qtr, \n                   mapping = aes(x = yr_qtr, \n                                 y = avg_births, \n                                 group = day_of_week)) + \n        geom_line(aes(color = day_of_week)) \n# move legend\nggp2_line_grp + \n    labs_line_graph_grp + \n    theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe can make it easier to distinguish between lines in our graph by adjusting the line style (linetype and linewidth), or by changing overall opacity (alpha).\nWe’ll work through some examples below using another subset from usbirth_1994_2014.\n\n\nDATA:\n\n\n\n\n\n\n\nCode\navg_births_dow_mnth <- usbirth_1994_2014 |>\n    dplyr::filter(year >= 2008 & year < 2010) |>\n    dplyr::group_by(yr_mnth, day_of_week) |>\n    dplyr::summarise(avg_births = mean(births, na.rm = TRUE)) |>\n    dplyr::ungroup()\ndplyr::glimpse(avg_births_dow_mnth)\n\n\n\n\nRows: 168\nColumns: 3\n$ yr_mnth     <date> 2008-01-01, 2008-01-01, 2008-01-01, 2008-01-01, 2008-01-0…\n$ day_of_week <ord> Sun, Mon, Tues, Wed, Thurs, Fri, Sat, Sun, Mon, Tues, Wed,…\n$ avg_births  <dbl> 7535.25, 12344.00, 12280.60, 12925.00, 13462.40, 13497.25,…\n\n\n\n\n\n\n\n\nCode\nlabs_line_styles <- labs(\n    title = \"Average US births\",\n    subtitle = paste0(\n        \"Between \",\n        min(avg_births_dow_mnth$yr_mnth),\n        \" and \",\n        max(avg_births_dow_mnth$yr_mnth)\n    ),\n    y = \"Average births\",\n    x = \"Year-Month\",\n    color = \"Day of Week\"\n)\n\n\n\n\n\n\n\nalpha & linewidth:\n\n\nColor palettes are a excellent too for highlighting or emphasizing certain lines over others.\nWe’ll start by creating a line graph layer for Monday (\"Mon\"), Thursday (\"Thurs\"), and Friday (\"Fri\") adjusting the opacity with alpha.\n\n\n\n\nCode\nggp2_line_mon_thur_fri <-\n    ggplot(data = dplyr::filter(avg_births_dow_mnth,\n        day_of_week %in% c(\"Mon\", \"Thurs\", \"Fri\"))) +\n    geom_line(\n        aes(x = yr_mnth,\n            y = avg_births,\n            group = day_of_week,\n            color = day_of_week),\n        alpha = 1 / 4,\n        linewidth = 0.85)\n# layer 1\nggp2_line_mon_thur_fri +\n    labs_line_styles +\n    theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\n\n\nlinetype:\n\n\nThen we’ll change the linetype of Saturday and Sunday to \"longdash' (and make this somewhat transparent with a slightly higher alpha).\n\n\n\n\nCode\nggp2_line_sat_sun <- ggp2_line_mon_thur_fri +\n    geom_line(data = dplyr::filter(avg_births_dow_mnth,\n            day_of_week %in% c(\"Sat\", \"Sun\")),\n        aes(x = yr_mnth,\n            y = avg_births,\n            group = day_of_week,\n            color = day_of_week),\n        alpha = 1 / 2,\n        linewidth = 0.75,\n        linetype = \"longdash\")\n# layers 1 & 2\nggp2_line_sat_sun +\n    labs_line_styles +\n    theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\n\n\nColor palettes:\n\n\nAdd geom_line() for Wednesday and Tuesday, but change the color pallete with paletteer and ggthemes.\nWe also manually set the legend order by supplying the original factor levels to the breaks argument.\n\n\n\n\nCode\nlibrary(paletteer)\nlibrary(ggthemes)\n# original factor levels\nlev_order <- levels(avg_births_dow_mnth$day_of_week)\n# layer 3\nggp2_line_pal_d <- ggp2_line_sat_sun +\n    # add line\n    geom_line(data = dplyr::filter(avg_births_dow_mnth,\n            day_of_week %in% c(\"Wed\", \"Tues\")),\n        aes(x = yr_mnth,\n            y = avg_births,\n            group = day_of_week,\n            color = day_of_week),\n        linewidth = 1.25) +\n    # add palette\n    ggplot2::scale_color_manual(\n        breaks = lev_order,\n        # original factor levels\n        values = paletteer::paletteer_d(palette = \"ggthemes::Color_Blind\",\n            n = 7))\n# three layers\nggp2_line_pal_d +\n    # labels\n    labs_line_styles +\n    # legend position\n    theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\n\n\nChanging the look of the lines is a great way to highlight or emphasize some lines over others.\n\n\n\n\nLABELS:\n\n\nIn the previous graph, we can see the number of average births reaches it’s peak in 2008 or 2009, so we’ll use labels to display the max births and max average births.\nTo accomplish this, we’re going to create two small tables of labels, label_max_dow and label_max_avg_dow, that we’ll use to label the maximum values.\nThey will each have 7 rows (one for each day of the week) and a label variable (lbl) which we can use with geom_label().\n\n\n\n\nCode\nlabel_max_dow <- usbirth_1994_2014 |>\n    dplyr::group_by(day_of_week) |>\n    dplyr::summarise(max_births = max(births, na.rm = TRUE)) |>\n    dplyr::ungroup() |>\n    dplyr::arrange(desc(max_births)) |>\n    dplyr::inner_join(y = usbirth_1994_2014,\n        by = c(\"max_births\" = \"births\", \"day_of_week\")) |>\n    dplyr::mutate(lbl = paste0(day_of_week,\n        \" (\",\n        date,\n        \" )\",\n        \", max births = \",\n        max_births)) |>\n    dplyr::select(day_of_week, yr_mnth, max_births, lbl)\n\ndplyr::arrange(label_max_dow, desc(max_births)) |>\n    dplyr::slice(1:2)\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\nCode\nlabel_max_avg_dow <- avg_births_dow_mnth |>\n    # group by mon-sun\n    dplyr::group_by(day_of_week) |>\n    # get max avg\n    dplyr::summarise(max_avg_births = max(avg_births, na.rm = TRUE)) |>\n    # ungroup\n    dplyr::ungroup() |>\n    # join back to table\n    dplyr::inner_join(y = avg_births_dow_mnth,\n        by = \"day_of_week\") |>\n    # check for max\n    dplyr::mutate(is_max = case_when(\n        avg_births == max_avg_births ~ TRUE,\n        avg_births != max_avg_births ~ FALSE,\n    )) |>\n    # remove non-maxes\n    filter(is_max == TRUE) |>\n    dplyr::mutate(lbl = paste0(day_of_week,\n        \": Max avg births = \",\n        max_avg_births)) |>\n    # reduce\n    select(day_of_week, yr_mnth, max_avg_births, lbl)\ndplyr::arrange(label_max_avg_dow, desc(max_avg_births)) |>\n    dplyr::slice(1:2)\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\nNow that we have label tables for each metric, we can filter them to the days we want to label.\nWe’ll use filter() to get the maximum values for \"Wed\" (in label_max_wed_dow and label_max_avg_wed_dow):\n\n\n\n\nCode\n# get wed\nlabel_max_wed_dow <- label_max_dow |>\n    filter(day_of_week == \"Wed\")\nlabel_max_wed_dow\nlabel_max_avg_wed_dow <- label_max_avg_dow |>\n    filter(day_of_week == \"Wed\")\nlabel_max_avg_wed_dow\n\n\n\n\n\n\n  \n\n\n\n\n\n  \n\n\n\n\n\n\n\nAdd geom_point() and geom_label() for Wednesday.\n\n\n\n\nCode\n# point for max births/day\nggp2_line_wed_max_births_pnts <- geom_point(\n    data = label_max_wed_dow,\n    aes(x = yr_mnth,\n        y = max_births,\n        color = day_of_week),\n    size = 2.5,\n    show.legend = FALSE)\n\nggp2_line_wed_max_avg_births_pnts <-\n    geom_point(\n        data = label_max_avg_wed_dow,\n        aes(x = yr_mnth,\n            y = max_avg_births,\n            color = day_of_week),\n        size = 2.5,\n        alpha = 1/2,\n        show.legend = FALSE)\n\nggp2_line_wed_max_births_lbl <- geom_label(\n    data = label_max_wed_dow,\n    aes(x = yr_mnth,\n        y = max_births,\n        label = lbl,\n        color = day_of_week),\n    fill = \"#ffffff\",\n    nudge_y = -480,\n    nudge_x = 25,\n    size = 1.7,\n    show.legend = FALSE)\n\nggp2_line_wed_max_avg_births_lbl <-\n    geom_label(data = label_max_avg_wed_dow,\n        aes(x = yr_mnth,\n            y = max_avg_births,\n            label = lbl,\n            color = day_of_week),\n        fill = \"#ffffff\",\n        nudge_y = 145,\n        nudge_x = 85,\n        size = 1.7,\n        show.legend = FALSE)\n\nggp2_line_pal_d + \n    ggp2_line_wed_max_births_pnts + \n    ggp2_line_wed_max_avg_births_pnts +\n    ggp2_line_wed_max_births_lbl + \n    ggp2_line_wed_max_avg_births_lbl + \n    # add labels\n    labs_line_styles +\n    # move legend to top\n    theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\n\n\nWe’ll use filter() to get the maximum values for \"Tues\" (in label_max_tues_dow and label_max_avg_tues_dow):\n\n\n\n\nCode\n# point for max births/day\n# get tues\nlabel_max_tues_dow <- label_max_dow |> \n    filter(day_of_week == \"Tues\")\nlabel_max_tues_dow\nlabel_max_avg_tues_dow <- label_max_avg_dow |> \n    filter(day_of_week == \"Tues\")\nlabel_max_avg_tues_dow\n\n\n\n\n\n\n  \n\n\n\n\n\n  \n\n\n\n\n\n\n\nAdd geom_point() and geom_label() for Tuesday.\n\n\n\n\nCode\n# point for max births/day\nggp2_line_tues_max_births_pnts <-\n    geom_point(data = label_max_tues_dow,\n        aes(x = yr_mnth,\n            y = max_births,\n            color = day_of_week),\n        size = 2.5,\n        show.legend = FALSE)\n\nggp2_line_tues_max_avg_births_pnts <-\n    geom_point(\n        data = label_max_avg_tues_dow,\n        aes(x = yr_mnth,\n            y = max_avg_births,\n            color = day_of_week),\n        size = 2.5,\n        alpha = 1/2,\n        show.legend = FALSE)\n\nggp2_line_tues_max_births_lbl <-\n    geom_label(data = label_max_tues_dow,\n        aes(x = yr_mnth,\n            y = max_births,\n            label = lbl,\n            color = day_of_week),\n        fill = \"#ffffff\",\n        nudge_y = -480,\n        nudge_x = 50,\n        size = 1.7,\n        show.legend = FALSE)\n\nggp2_line_tues_max_avg_births_lbl <-\n    geom_label(data = label_max_avg_tues_dow,\n        aes(x = yr_mnth,\n            y = max_avg_births,\n            label = lbl,\n            color = day_of_week),\n        fill = \"#ffffff\",\n        nudge_y = 300,\n        nudge_x = -80,\n        size = 1.7,\n        show.legend = FALSE)\n\n\nggp2_line_pal_d + \n    # wednesday layers \n    ggp2_line_wed_max_births_pnts + \n    ggp2_line_wed_max_avg_births_pnts +\n    ggp2_line_wed_max_births_lbl + \n    ggp2_line_wed_max_avg_births_lbl +\n    # tuesday layers \n    ggp2_line_tues_max_births_pnts + \n    ggp2_line_tues_max_avg_births_pnts +\n    ggp2_line_tues_max_births_lbl + \n    ggp2_line_tues_max_avg_births_lbl + \n    # add labels\n    labs_line_styles +\n    # move legend to top\n    theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\n\n\n\n\nDATA:\n\n\nFinally, we can use facets to view each of the line graphs seperately (or small multiples).\nWe’ll create a dataset with the dates limited to births between 2008-07-01 and 2010-01-01, and calculate the median births, grouped by date, day_category, and day_of_week and store it as med_births_dcat_dow_mnth.\n\n\n\n\nCode\nmed_births_dcat_dow_mnth <- usbirth_1994_2014 |>\n    dplyr::filter(date >= lubridate::as_date(\"2008-07-01\") &\n            date < lubridate::as_date(\"2010-01-01\")) |>\n    dplyr::group_by(date, day_category, day_of_week) |>\n    dplyr::summarise(med_births = median(births, na.rm = TRUE)) |>\n    dplyr::ungroup()\ndplyr::glimpse(med_births_dcat_dow_mnth)\n\n\nRows: 549\nColumns: 4\n$ date         <date> 2008-07-01, 2008-07-02, 2008-07-03, 2008-07-04, 2008-07-…\n$ day_category <chr> \"Weekday\", \"Weekday\", \"Weekday\", \"Weekday\", \"Weekend\", \"W…\n$ day_of_week  <ord> Tues, Wed, Thurs, Fri, Sat, Sun, Mon, Tues, Wed, Thurs, F…\n$ med_births   <int> 14350, 14189, 14182, 9449, 8061, 7725, 13340, 14771, 1409…\n\n\n\n\nFACETS:\n\n\nUsing facet_wrap() with a single categorical variable (. ~ var) will create a plot for each discrete level, while facet_grid() will create a level-by-level grid (specified as var ~ var).\n\n\n\n\nCode\n# labels\nlabs_line_graph_facet_wrap <- labs(\n    title = \"Median US births\",\n    subtitle = paste0(\n        \"Between \",\n        min(med_births_dcat_dow_mnth$date),\n        \" and \",\n        max(med_births_dcat_dow_mnth$date)\n    ),\n    y = \"Median births\",\n    x = \"Date\",\n    color = \"Day of Week\"\n)\n# layer\nggp2_line_facet_wrap <- ggplot(data = med_births_dcat_dow_mnth,\n    mapping = aes(x = date,\n        y = med_births,\n        group = day_of_week)) +\n    geom_line(aes(color = day_of_week)) +\n    scale_color_manual(values = c(\n        \"#30123B\", \"#4485F6\", \"#1AE4B6\",\n        \"#A1FB3E\", \"#FABA39\", \"#E3460B\", \"#7A0403\"\n    )) +\n    scale_y_continuous(\n        breaks = c(4000, 8000, 12000, 16000),\n        labels = c('4000', '8000', '12000', '16000')\n    ) +\n    scale_x_date(date_breaks = \"1 year\",\n        date_labels = c(\"2008\", \"2009\", \"2010\")) +\n    facet_wrap(day_of_week ~ ., shrink = TRUE)\n\nggp2_line_facet_wrap +\n    labs_line_graph_facet_wrap +\n    theme(legend.position = \"top\")\n\n\n\n\n\n\n\n\n\n\n\nIt’s always a good idea to check the x and y axis text when using facets. I’ve adjusted the x and y axes above using scale_y_continuous() and scale_x_date() before adding facet_wrap()\n\n\n\n\nCode\n# labels\nlabs_line_graph_facet_grid <- labs(\n    title = \"Median US births\",\n    subtitle = paste0(\n        \"Between \",\n        min(med_births_dcat_dow_mnth$date),\n        \" and \",\n        max(med_births_dcat_dow_mnth$date)\n    ),\n    y = \"Median births\",\n    x = \"Date\",\n    color = \"Day of Week\"\n)\n# layer\nggp2_line_facet_grid <- ggplot(data = med_births_dcat_dow_mnth,\n    mapping = aes(x = date,\n        y = med_births,\n        group = day_of_week)) +\n    geom_line(aes(color = day_of_week)) +\n    scale_color_manual(values = c(\n        \"#30123B\", \"#4485F6\", \"#1AE4B6\",\n        \"#A1FB3E\", \"#FABA39\", \"#E3460B\", \"#7A0403\"\n    )) +\n    scale_y_continuous(\n        breaks = c(4000, 8000, 12000, 16000),\n        labels = c('4000', '8000', '12000', '16000')\n    ) +\n    scale_x_date(date_breaks = \"1 year\",\n        date_labels = c(\"2008\", \"2009\", \"2010\")) +\n    facet_grid(day_of_week ~ day_category,\n        shrink = TRUE)\n\nggp2_line_facet_grid +\n    labs_line_graph_facet_grid\n\n\n\n\n\n\n\n\n\n\n\nThe colors have been manually, using scale_color_manual() and passing seven color hex codes to the values argument."
  },
  {
    "objectID": "rela/bubble_charts.html",
    "href": "rela/bubble_charts.html",
    "title": "Bubble Charts",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nBubble graphs display relationships between three numeric (continuous) variables.\nThe position on the x and y axis illustrates the relationship between the first two variables, and the size of the point (i.e., the bubble) conveys the numeric value of the third."
  },
  {
    "objectID": "rela/bubble_charts.html#getting-set-up",
    "href": "rela/bubble_charts.html#getting-set-up",
    "title": "Bubble Charts",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "rela/bubble_charts.html#the-grammar",
    "href": "rela/bubble_charts.html#the-grammar",
    "title": "Bubble Charts",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap bill_length_mm to x axis\nMap flipper_length_mm to y axis\nMap body_mass_g to size\nSet alpha to 1/3\nAdd scale_size(), set the range to c(0.1, 10) and name to \"Body Mass (g)\"\nMove the legend to the bottom of the graph with theme(legend.position = \"bottom\")\n\n\n\n\nCode\nlabs_bubble <- labs(\n  title = \"Bill Length vs. Flipper Length\",\n  x = \"Bill Length (mm)\", y = \"Flipper length (mm)\", \n  size = \"Body Mass (g)\")\n\nggp2_bubble <- penguins |> \n  ggplot(\n    aes(x = bill_length_mm, y = flipper_length_mm)) + \n  geom_point(aes(size = body_mass_g), alpha = 1/3) + \n  scale_size(range = c(.1, 10), \n             name = \"Body Mass (g)\") + \n  theme(legend.position = \"bottom\")\n\nggp2_bubble + \n  labs_bubble\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/alluvial_charts.html",
    "href": "rela/alluvial_charts.html",
    "title": "Alluvial Charts",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nAn alluvial graph displays the changes in composition or flow over time or across multiple categories.\nWe can build alluvial charts in ggplot2 with the ggalluvial package:.\nSee also: parallel sets"
  },
  {
    "objectID": "rela/alluvial_charts.html#getting-set-up",
    "href": "rela/alluvial_charts.html#getting-set-up",
    "title": "Alluvial Charts",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ndevtools::install_github(\"corybrunson/ggalluvial\")\nlibrary(ggalluvial)\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nBelow we create a wide example of the penguins data (as peng_wide)\n\n\n\n\nCode\npeng_wide <- penguins |> \n  tidyr::drop_na() |> \n  dplyr::count(year, island, sex, species) |> \n  dplyr::mutate(year = factor(year)) |> \n  dplyr::rename(freq = n)\nglimpse(peng_wide)\n\n\nRows: 30\nColumns: 5\n$ year    <fct> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 20…\n$ island  <fct> Biscoe, Biscoe, Biscoe, Biscoe, Dream, Dream, Dream, Dream, To…\n$ sex     <fct> female, female, male, male, female, female, male, male, female…\n$ species <fct> Adelie, Gentoo, Adelie, Gentoo, Adelie, Chinstrap, Adelie, Chi…\n$ freq    <int> 5, 16, 5, 17, 9, 13, 10, 13, 8, 7, 9, 22, 9, 23, 8, 9, 8, 9, 8…"
  },
  {
    "objectID": "rela/alluvial_charts.html#the-grammar",
    "href": "rela/alluvial_charts.html#the-grammar",
    "title": "Alluvial Charts",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels (with ggtitle(), ylab(), and labs())\nAdd scale_x_discrete() with the limits set to \"Year\", \"Island\" and \"Species\", and expand to 0.1 and 0.07\nAdd geom_alluvium() with fill set to the sex variable and geom_stratum()\nAdd geom_text(), with stat set to stratum and label set to after_stat(stratum) (inside aes())\n\n\n\n\nCode\nlabs_alluvial <- ggtitle(label = \"Palmer Penguins\", \n    subtitle = \"Stratified by year, island and species\")\nlabs_alluvial_y <- ylab(\"Frequency\") \nlabs_alluvial_fill <- labs(fill = \"Sex\")\n\nggp2_alluvial_w <- ggplot(data = peng_wide,\n  aes(axis1 = year, axis2 = island,\n      axis3 = species, y = freq)) +\n  scale_x_discrete(\n    limits = c(\"Year\", \"Island\", \"Species\"),\n    expand = c(0.1, 0.07)) +\n  geom_alluvium(aes(fill = sex)) +\n  geom_stratum() +\n  geom_text(stat = \"stratum\", \n    aes(label = after_stat(stratum)),\n      size = 3)\n\nggp2_alluvial_w + \n  labs_alluvial + \n  labs_alluvial_y + \n  labs_alluvial_fill\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\nThe ggalluvial functions can handle wide or long data."
  },
  {
    "objectID": "rela/alluvial_charts.html#more-info",
    "href": "rela/alluvial_charts.html#more-info",
    "title": "Alluvial Charts",
    "section": "More info",
    "text": "More info\nThe ggalluvial package can also help reshape data with the to_lodes_form() function.\n\nDataGraph\n\n\n\nDATA:\n\n\nBelow we create peng_lodes from the penguins dataset using the to_lodes_form() from the ggalluvial package.\n\n\n\n\nCode\npeng_lodes <- penguins |> \n  dplyr::select(Year = year, Island = island, \n         Species = species, Sex = sex) |> \n  tidyr::drop_na() |> \n  dplyr::count(Year, Island, Species, Sex) |> \n  dplyr::mutate(Year = factor(Year)) |> \n  dplyr::rename(Freqency = n) |> \n  ggalluvial::to_lodes_form(key = \"Measure\", axes = 1:3) \nglimpse(peng_lodes)\n\n\nRows: 90\nColumns: 5\n$ Sex      <fct> female, male, female, male, female, male, female, male, femal…\n$ Freqency <int> 5, 5, 16, 17, 9, 10, 13, 13, 8, 7, 9, 9, 22, 23, 8, 8, 9, 9, …\n$ alluvium <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…\n$ Measure  <fct> Year, Year, Year, Year, Year, Year, Year, Year, Year, Year, Y…\n$ stratum  <fct> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2…\n\n\n\n\n\n\nCODE:\n\n\nCreate labels\nMap Measure to x, Frequency to y, stratum to stratum, alluvium to alluvium, and label to stratum.\nAdd the geom_alluvium() and map Sex to fill\nAdd the geom_stratum() and set the width to 0.45\nAdd geom_text() and set stat to \"stratum\""
  },
  {
    "objectID": "rela/slope_graphs.html",
    "href": "rela/slope_graphs.html",
    "title": "Slope graphs",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nSlope graphs show changes in a numeric value (displayed on the y axis) typically over two points in time (along the x axis). The values for each group or unit of measurement are connected by lines, and any differences between the two time points are represented by the slope of the lines (hence the name, ‘slope chart’).\nWe can build slope graphs in ggplot2 using the geom_line() and geom_point() functions."
  },
  {
    "objectID": "rela/slope_graphs.html#getting-set-up",
    "href": "rela/slope_graphs.html#getting-set-up",
    "title": "Slope graphs",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nWe’ll be using the penguins data for this graph, but slightly restructured.\n\n\n\n\nCode\npeng_slope <- palmerpenguins::penguins |>\n    dplyr::filter(year < 2009) |>\n    dplyr::group_by(year, island) |>\n    dplyr::summarise(across(\n        .cols = contains(\"mm\"), \n        .fns = mean, \n            na.rm = TRUE, \n        .names = \"avg_{.col}\")) |>\n    dplyr::ungroup()\nglimpse(peng_slope)\n\n\nRows: 6\nColumns: 5\n$ year                  <int> 2007, 2007, 2007, 2008, 2008, 2008\n$ island                <fct> Biscoe, Dream, Torgersen, Biscoe, Dream, Torgers…\n$ avg_bill_length_mm    <dbl> 45.03864, 44.53913, 38.80000, 44.62031, 43.75588…\n$ avg_bill_depth_mm     <dbl> 15.54091, 18.57391, 19.02105, 15.82500, 18.39706…\n$ avg_flipper_length_mm <dbl> 207.5227, 189.8478, 189.2632, 209.6875, 195.0294…"
  },
  {
    "objectID": "rela/slope_graphs.html#the-grammar",
    "href": "rela/slope_graphs.html#the-grammar",
    "title": "Slope graphs",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap year to the x, avg_bill_depth_mm to y, and island to group\nAdd a geom_line() layer, mapping island to color, and setting the size to 2\nAdd a geom_point() layer, mapping color to island, and setting size to 4\nWe’ll adjust the x axis with scale_x_continuous(), manually setting the breaks and moving the position to the \"top\" of the graph\n\n\n\n\nCode\nlabs_slope <- labs(\n        title = \"Changes in Bill Depth of Palmer Penguins\", \n        subtitle = \"Years 2007 & 2008\",\n        x = \"Year\", y = \"Bill Depth (mm)\", \n        color = \"Island\")\n\nggp2_slope <- ggplot(data = peng_slope, \n    mapping = aes(x = year,\n                y = avg_bill_depth_mm, \n                group = island)) +\n  geom_line(aes(color = island), \n                size = 2, show.legend = FALSE) +\n  geom_point(aes(color = island), \n                size = 4) + \n  scale_x_continuous(\n                breaks = c(2007, 2008), \n                position = \"top\")\n\nggp2_slope + \n    labs_slope\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/slope_graphs.html#more-info",
    "href": "rela/slope_graphs.html#more-info",
    "title": "Slope graphs",
    "section": "More info",
    "text": "More info\nWe can also use faceting with slope graphs to add a third categorical variable.\n\nDataCodeGraph\n\n\n\nDATA:\n\n\nWe’ll be using the penguins dataset again, but group remove the missing values and group it by year, island, and sex.\n\n\n\n\nCode\npeng_grp_slope <- palmerpenguins::penguins |>\n    dplyr::select(year, sex, island,\n                  contains(\"mm\")) |> \n    tidyr::drop_na() |> \n    dplyr::filter(year != 2007) |>\n    dplyr::group_by(year, sex, island) |>\n    dplyr::summarise(across(\n        .cols = contains(\"mm\"), \n        .fns = mean, \n            na.rm = TRUE, \n        .names = \"avg_{.col}\")) |>\n    dplyr::ungroup()\nglimpse(peng_grp_slope)\n\n\nRows: 12\nColumns: 6\n$ year                  <int> 2008, 2008, 2008, 2008, 2008, 2008, 2009, 2009, …\n$ sex                   <fct> female, female, female, male, male, male, female…\n$ island                <fct> Biscoe, Dream, Torgersen, Biscoe, Dream, Torgers…\n$ avg_bill_length_mm    <dbl> 42.78387, 41.42353, 36.61250, 46.35000, 46.08824…\n$ avg_bill_depth_mm     <dbl> 15.02903, 17.52941, 17.40000, 16.64062, 19.26471…\n$ avg_flipper_length_mm <dbl> 205.3226, 190.9412, 190.0000, 213.7812, 199.1176…\n\n\n\n\n\n\nCODE:\n\n\nCreate labels\nMap year to the x, avg_bill_depth_mm to y, and island to group\nAdd a geom_line() layer, mapping island to color, and setting the size to 2\nAdd a geom_point() layer, mapping color to island, and setting size to 4\nWe’ll adjust the x axis with scale_x_continuous(), manually setting the breaks and moving the position to the \"top\" of the graph\nWe’ll duplicate the the y axis with sec.axis, setting dup_axis() to the same name of the previous y label.\nFinally, we facet the graph by sex, adjust the size of the text, and move the legend to the \"bottom\" of the graph.\n\n\n\n\nCode\nlabs_grp_slope <- labs(\n    title = \"Changes in Bill Depth of Palmer Penguins\", \n    subtitle = \"Years 2008 & 2009\",\n    x = \"\", \n    color = \"Island\")\n\nggp2_grp_slope <- ggplot(data = peng_grp_slope, \n    mapping = aes(x = year,\n                  y = avg_bill_depth_mm, \n              group = island)) +\n    geom_line(aes(color = island), \n                size = 2, show.legend = FALSE) +\n    geom_point(aes(color = island), \n                size = 4) + \n    scale_x_continuous(\n                breaks = c(2008, 2009), \n                position = \"top\") + \n    scale_y_continuous(name = \"Bill Depth (mm)\",\n                sec.axis = dup_axis(\n                            name = \"Bill Depth (mm)\")) + \n    facet_wrap(. ~ sex, \n                ncol = 2) +\n    theme_minimal(base_size = 14) +\n    theme(legend.position = \"bottom\",\n        axis.text.x = element_text(size = 9),\n        axis.text.y = element_text(size = 9),\n        strip.text = element_text(size = 10))\n\nggp2_grp_slope + \n    labs_grp_slope\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/parallel_sets.html",
    "href": "rela/parallel_sets.html",
    "title": "Parallel Sets",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nParallel sets (also referred to as Sankey diagrams or Alluvial charts) show the counts of categorical variables connected via a two-sided parallel display (or ‘sets’). Parallel sets can also be used to show different states of paired dependent relationships (such as input vs output), or time 1 vs time 2.\nThe height of the connecting bands between the categories on the x axis represent the relative counts for each discrete level (displayed on the y axis). The levels within each variable are represented with color.\nWe can build parallel set diagrams with the ggforce package.\nAlso check out alluvial charts."
  },
  {
    "objectID": "rela/parallel_sets.html#getting-set-up",
    "href": "rela/parallel_sets.html#getting-set-up",
    "title": "Parallel Sets",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ndevtools::install_github(\"thomasp85/ggforce\")\ninstall.packages(\"palmerpenguins\")\nlibrary(ggforce)\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nWe’re going to remove the missing values from palmerpenguins::penguins, count the categorical variables (island, sex, species), and rename the n column (produced by the count() function) to value.\nggforce has a special gather_set_data() function that changes tidy data into a tidy(er) format\n\n\n\n\nCode\npeng_wide <- palmerpenguins::penguins |> \n  drop_na() |> \n  count(island, species, sex) |> \n  rename(value = n)\npara_set_peng <- ggforce::gather_set_data(\n                            data = peng_wide, \n                            x = 1:3)\ndplyr::glimpse(para_set_peng)\n\n\nRows: 30\nColumns: 7\n$ island  <fct> Biscoe, Biscoe, Biscoe, Biscoe, Dream, Dream, Dream, Dream, To…\n$ species <fct> Adelie, Adelie, Gentoo, Gentoo, Adelie, Adelie, Chinstrap, Chi…\n$ sex     <fct> female, male, female, male, female, male, female, male, female…\n$ value   <int> 22, 22, 58, 61, 27, 28, 34, 34, 24, 23, 22, 22, 58, 61, 27, 28…\n$ id      <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, …\n$ x       <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3,…\n$ y       <fct> Biscoe, Biscoe, Biscoe, Biscoe, Dream, Dream, Dream, Dream, To…"
  },
  {
    "objectID": "rela/parallel_sets.html#the-grammar",
    "href": "rela/parallel_sets.html#the-grammar",
    "title": "Parallel Sets",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap x to x, id to id, y to split, and value to value\nIn the geom_parallel_sets() function, map sex to fill and manually set the alpha (opacity) and the axis.width\nIn the geom_parallel_sets_axes() function, set the axis.width to the same value as the geom_parallel_sets() above\nFor labeling, adjust the size manually and set the color to something that stands out against the black vertical axes\nManually label the x axis with scale_x_continuous(), setting the breaks and labels to the variable names in the peng_wide dataset\nFinally, remove the x title with axis.title.x = element_blank()\n\n\n\n\nCode\nlabs_psets <- labs(\n        title = \"Categories of Palmer Penguins\", \n        y = \"Count\", fill = \"Sex\")\n\nggp2_psets <- ggplot(data = para_set_peng, \n    mapping = aes(x = x, \n        id = id, \n        split = y, \n        value = value)) +\n  geom_parallel_sets(aes(fill = sex), \n        alpha = 0.3, \n        axis.width = 0.07) \n\nggp2_psets_axes <- ggp2_psets +\n  geom_parallel_sets_axes(\n        axis.width = 0.07) \n\nggp2_psets_labs <- ggp2_psets_axes +\n  geom_parallel_sets_labels(\n        size = 2.0, \n        color = '#ffffff') +\n  scale_x_continuous(\n        breaks = c(1, 2, 3), \n        labels = c(\"Island\", \"Species\", \"Sex\")) +\n  theme(axis.title.x = element_blank())\n\nggp2_psets_labs +\n    labs_psets\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/parallel_sets.html#more-info",
    "href": "rela/parallel_sets.html#more-info",
    "title": "Parallel Sets",
    "section": "More info",
    "text": "More info\nIf the categories have long names, you can move the location of the labels outside the set.\n\nLabeling sets\n\n\n\nPARALLEL SETS LABELLING:\n\n\nIf the categories have long names, use the angle, nudge_x/nudge_y and hjust/vjust in geom_parallel_sets_labels() to adjust the size, location, and color of the labels.\nManually setting the limits of the x axis in scale_x_continuous() will also give more room for the labels.\n\n\n\n\nCode\nggp2_psets_axes + \n  geom_parallel_sets_labels(\n      size = 3.2, \n      colour = '#000000',\n      angle = 0, \n      nudge_x = 0.1, \n      hjust = 0) + \n  scale_x_continuous(\n        limits = c(0.9, 3.2),\n        breaks = c(1, 2, 3), \n        labels = c(\"Island\", \"Species\", \"Sex\")) + \n  theme(axis.title.x = element_blank()) + \n    labs_psets"
  },
  {
    "objectID": "rela/bump_charts.html",
    "href": "rela/bump_charts.html",
    "title": "Bump Charts",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nBump charts show how numerical (ranked) values change over time for different categories (or groups). Differences are represented with connecting lines (along the y axis) that cover the full timescale (along the x axis).\nWe can build bump charts in ggplot2 with the ggbump package:"
  },
  {
    "objectID": "rela/bump_charts.html#getting-set-up",
    "href": "rela/bump_charts.html#getting-set-up",
    "title": "Bump Charts",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ndevtools::install_github(\"davidsjoberg/ggbump\")\nlibrary(ggbump)\ninstall.packages(\"fivethirtyeight\")\nlibrary(fivethirtyeight) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\n\n\nWe’ll use the fivethirtyeight::tv_hurricanes data, but slightly restructured and filtered.\n\n\n\n\nCode\nfivethirtyeight::tv_hurricanes |> \n  filter(date > as_date(\"2017-09-15\")) |> \n  pivot_longer(cols = -date, \n    names_to = 'hurricane', \n    values_to = 'value') |> \n  group_by(date) |>\n  mutate(rank = rank(value, \n    ties.method = \"random\")) |> \n  ungroup() -> tidy_hurricanes\nglimpse(tidy_hurricanes)\n\n\nRows: 40\nColumns: 4\n$ date      <date> 2017-09-16, 2017-09-16, 2017-09-16, 2017-09-16, 2017-09-17,…\n$ hurricane <chr> \"harvey\", \"irma\", \"maria\", \"jose\", \"harvey\", \"irma\", \"maria\"…\n$ value     <dbl> 0.0207, 0.1087, 0.0000, 0.0355, 0.0087, 0.1090, 0.0184, 0.03…\n$ rank      <int> 2, 4, 1, 3, 1, 4, 2, 3, 1, 3, 4, 2, 1, 3, 4, 2, 2, 3, 4, 1, …"
  },
  {
    "objectID": "rela/bump_charts.html#the-grammar",
    "href": "rela/bump_charts.html#the-grammar",
    "title": "Bump Charts",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap date to the x, rank to the y, and hurricane to color\nAdd ggbump::geom_bump() and set size to 2\nMove legend to bottom with theme(legend.position = \"bottom\")\n\n\n\n\nCode\nlabs_bump <- labs(title = \"TV News Hurricane Mentions\",   \n  subtitle = \"Between Sep 15-25th, 2017\", \n  x = \"Date\", y = \"Rank\", \n  color = \"Hurricanes\")\nggp2_bump <- ggplot(tidy_hurricanes, \n    aes(x = date, \n      y = rank, \n      color = hurricane)) +\n    ggbump::geom_bump(size = 2) + \n    theme(legend.position = \"bottom\")\n\nggp2_bump + \n  labs_bump\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/density_contours.html",
    "href": "rela/density_contours.html",
    "title": "Density Contours",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nDensity contours (or 2-D density plots) are helpful for displaying differences in values between two numeric (continuous) variables.\nIn topographical maps, contour lines are drawn around areas of equal elevation above sea-level. In density contours, the contour lines are drawn around the areas our data occupy (essentially replacing sea-level as ‘an area without any x or y values.’)\nSpecifically, the contour lines outline areas on the graph with differing point densities, and semi-transparent colors (gradient) can be added to further highlight the separate regions."
  },
  {
    "objectID": "rela/density_contours.html#getting-set-up",
    "href": "rela/density_contours.html#getting-set-up",
    "title": "Density Contours",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nWe’ll use the penguins data from the palmerpenguins package, but remove the missing values from bill_length_mm, flipper_length_mm, and species.\n\n\n\n\nCode\npeng_dnsty_2d <- palmerpenguins::penguins |>\n  dplyr::filter(!is.na(bill_length_mm) &\n    !is.na(flipper_length_mm) &\n    !is.na(species)) |>\n  dplyr::mutate(species = factor(species))\nglimpse(peng_dnsty_2d)\n\n\nRows: 342\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 34.1, 42.0…\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 18.1, 20.2…\n$ flipper_length_mm <int> 181, 186, 195, 193, 190, 181, 195, 193, 190, 186, 18…\n$ body_mass_g       <int> 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3475, 4250…\n$ sex               <fct> male, female, female, female, male, female, male, NA…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "rela/density_contours.html#the-grammar",
    "href": "rela/density_contours.html#the-grammar",
    "title": "Density Contours",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nCreate two values for extending the range of the x and y axis (x_min/x_max and y_min/y_max)\nMap bill_length_mm to x and flipper_length_mm to y\nAdd the expand_limits() function, assigning our stored values to x and y\nAdd the geom_density_2d()\n\n\n\n\nCode\n# labels\nlabs_dnsty_2d <- labs(\n  title = \"Bill Length vs. Flipper Length\",\n  x = \"Bill Length (mm)\",\n  y = \"Flipper length (mm)\"\n)\n\n# x limits\nx_min <- min(peng_dnsty_2d$bill_length_mm) - 5\nx_max <- max(peng_dnsty_2d$bill_length_mm) + 5\n# y limits\ny_min <- min(peng_dnsty_2d$flipper_length_mm) - 10\ny_max <- max(peng_dnsty_2d$flipper_length_mm) + 10\n\nggp2_dnsty_2d <- ggplot(\n  data = peng_dnsty_2d,\n  mapping = aes(\n    x = bill_length_mm,\n    y = flipper_length_mm\n  )\n) +\n  # use our stored values\n  expand_limits(\n    x = c(x_min, x_max),\n    y = c(y_min, y_max)\n  ) +\n  geom_density_2d()\n# plot\nggp2_dnsty_2d +\n  labs_dnsty_2d\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/density_contours.html#layers",
    "href": "rela/density_contours.html#layers",
    "title": "Density Contours",
    "section": "Layers",
    "text": "Layers\nWe’re going to break down how to create the density contour layer-by-layer using the stat_density_2d() function (which allows us to access some of the inner-workings of geom_density_2d())\n\nBaseStatFillPoints\n\n\n\nBASE:\n\n\nCreate a new set of labels\nBuild a base layer:\n\nMap bill_length_mm to x and flipper_length_mm to y\nExpand the x and y values with expand_limits() (using the values we created above)\n\n\n\n\n\nCode\nlabs_sdens_2d <- labs(\n  title = \"Bill Length vs. Flipper Length\",\n  x = \"Bill Length (mm)\",\n  y = \"Flipper length (mm)\",\n  color = \"Species\"\n)\n# base\nbase_sdens_2d <- ggplot(\n  data = peng_dnsty_2d,\n  mapping = aes(\n    x = bill_length_mm,\n    y = flipper_length_mm\n  )\n) +\n  expand_limits(\n    x = c(x_min, x_max),\n    y = c(y_min, y_max)\n  )\nbase_sdens_2d +\n  labs_sdens_2d\n\n\n\n\n\n\n\n\n\n\n\n\n\nSTAT:\n\n\nAdd the stat_density_2d() layer:\n\nInside aes(), use after_stat() to map level to fill (from Help, “Evaluation after stat transformation will have access to the variables calculated by the stat, not the original mapped values.”)\nSet the geom to \"polygon\"\nChange the color to black (#000000)\nadjust the linewidth to 0.35\n\n\n\n\n\nCode\nstat_sdens_2d <- base_sdens_2d +\n  stat_density_2d(\n    aes(fill = after_stat(level)),\n    geom = \"polygon\",\n    color = \"#000000\",\n    linewidth = 0.35\n  )\nstat_sdens_2d +\n  labs_sdens_2d\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFILL:\n\n\nWhere did levels come from?\nYou probably noticed the stat_density_2d() produced a legend with level, and a series of values for the color gradient. These numbers are difficult to interpret directly, but you can think of them as ‘elevation changes’ in point density. Read more here on SO.\n\n\nNow that we have a color gradient for our contour lines, we can adjust it’s the range of colors using scale_fill_gradient()\n\nlow is the color for the low values of level\n\nhigh is the color for the high values of level\n\nguide let’s us control the legend\n\nWe’ll set these to white (\"#ffffff\") and dark gray (\"#404040\")\n\n\n\n\nCode\nfill_sdens_2d <- stat_sdens_2d +\n  scale_fill_gradient(\n    low = \"#ffffff\",\n    high = \"#404040\",\n    guide = \"legend\"\n  )\nfill_sdens_2d +\n  labs_sdens_2d\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPOINTS:\n\n\nThe dark areas in the contour lines are the areas with higher value density, but why don’t we test that by adding some data points?\nAdd a geom_point() layer\n\nInside aes(), map species to color (this will tell us if the three dark areas represent differences in the three species in the dataset)\nset size to 2\nChange the alpha to 2/3\n\n\n\n\n\nCode\n# geom_point()\npnts_sdens_2d <- fill_sdens_2d +\n  geom_point(aes(color = species),\n    size = 2,\n    alpha = 2 / 3\n  )\n# final\npnts_sdens_2d +\n  labs_sdens_2d"
  },
  {
    "objectID": "rela/density_contours.html#adding-groups",
    "href": "rela/density_contours.html#adding-groups",
    "title": "Density Contours",
    "section": "Adding groups",
    "text": "Adding groups\nIn the previous plot, we used the species variable in the geom_point() layer to identify the points using color. In the section below, we’ll show more methods of displaying groups with density contour lines.\n\nGroupsFacets\n\n\n\nGROUPS:\n\n\nRe-create the labels\nBuild a geom_density_2d() layer:\n\nMap bill_length_mm to x and flipper_length_mm to y\nExpand the limits using our adjusted min/max x and y values\nAdd the geom_density_2d(), mapping species to color\n\nBuild the geom_point() layer:\n\nMap species to color\nset the alpha and remove the legend\n\n\n\n\n\nCode\nlabs_dnsty_2d_grp <- labs(\n  title = \"Bill Length vs. Flipper Length\",\n  x = \"Bill Length (mm)\",\n  y = \"Flipper length (mm)\",\n  color = \"Species\"\n)\n\nggp2_dnsty_2d_grp <- ggplot(\n  data = peng_dnsty_2d,\n  mapping = aes(\n    x = bill_length_mm,\n    y = flipper_length_mm\n  )\n) +\n  expand_limits(\n    x = c(x_min, x_max),\n    y = c(y_min, y_max)\n  ) +\n  geom_density_2d(aes(color = species))\n\n\nggp2_dnsty_2d_pnts <- ggp2_dnsty_2d_grp +\n  geom_point(aes(color = species),\n    alpha = 2 / 3,\n    show.legend = FALSE\n  )\n\nggp2_dnsty_2d_pnts +\n  labs_dnsty_2d_grp\n\n\n\n\n\n\n\n\n\n\n\n\n\nFACETING:\n\n\nRe-create the labels\nBuild the base/limits:\n\nMap bill_length_mm to x and flipper_length_mm to y\nExpand the limits using our adjusted min/max x and y values\n\nBuild the geom_density_2d_filled() layer:\n\nAdd the geom_density_2d_filled(), setting linewidth to 0.30 and contour_var to \"ndensity\"\n\nAdd the scale_discrete_manual():\n\nset aesthetics to \"fill\"\nProvide a set of color values (this plot needed 10 values, and I grabbed them all from color-hex.\n\nFacet:\n\nAdd facet_wrap(), and place species in the vars()\n\n\n\n\n\nCode\nlabs_dnsty_2d_facet <- labs(\n  title = \"Bill Length vs. Flipper Length\",\n  subtitle = \"By Species\",\n  x = \"Bill Length (mm)\",\n  y = \"Flipper length (mm)\"\n)\nggp2_dnsty_2d_facet <- ggplot(\n  data = peng_dnsty_2d,\n  mapping = aes(\n    x = bill_length_mm,\n    y = flipper_length_mm\n  )\n) +\n  expand_limits(\n    x = c(x_min, x_max),\n    y = c(y_min, y_max)\n  ) +\n  geom_density_2d_filled(\n    linewidth = 0.30,\n    contour_var = \"ndensity\"\n  ) +\n  scale_discrete_manual(\n    aesthetics = \"fill\",\n    values = c(\n      \"#18507a\", \"#2986cc\", \"#3e92d1\", \"#539ed6\", \"#69aadb\",\n      \"#7eb6e0\", \"#a9ceea\", \"#bedaef\", \"#d4e6f4\", \"#e9f2f9\"\n    )\n  ) +\n  facet_wrap(vars(species))\n\nggp2_dnsty_2d_facet +\n  labs_dnsty_2d_facet"
  },
  {
    "objectID": "rela/density_contours.html#more-2-d-densities",
    "href": "rela/density_contours.html#more-2-d-densities",
    "title": "Density Contours",
    "section": "More 2-D densities",
    "text": "More 2-D densities\nIn the previous section, we defined the color values used in geom_density_2d_filled() with scale_discrete_manual(). Below we give an example using the default colors:\n\nFillLines\n\n\n\nFill:\n\n\nRe-create the labels\nBuild the base/limits:\n\nMap bill_length_mm to x and flipper_length_mm to y\nExpand the limits using our adjusted min/max x and y values\n\nAdd the geom_density_2d() layer\nAdd the geom_density_2d_filled(), setting alpha to 0.8\n\n\n\n\nCode\nlabs_dnsty_2d <- labs(\n  title = \"Bill Length vs. Flipper Length\",\n  x = \"Bill Length (mm)\",\n  y = \"Flipper length (mm)\"\n)\n\nggp2_dnsty_2d <- ggplot(\n  data = peng_dnsty_2d,\n  mapping = aes(\n    x = bill_length_mm,\n    y = flipper_length_mm\n  )\n) +\n  # use our stored values\n  expand_limits(\n    x = c(x_min, x_max),\n    y = c(y_min, y_max)\n  ) +\n  geom_density_2d()\n\nggp2_dnsty_2d_fill <- ggp2_dnsty_2d +\n  geom_density_2d_filled(alpha = 0.8)\n\nggp2_dnsty_2d_fill +\n  labs_dnsty_2d\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLINES:\n\n\nWe can also outline the contours by adding color to the lines using another geom_density_2d() layer:\n\nset linewidth to 0.30\nset color to \"#ffffff\"\n\n\n\n\n\nCode\nggp2_dnsty_2d_fill_lns <- ggp2_dnsty_2d_fill +\n  geom_density_2d(\n    linewidth = 0.30,\n    color = \"#ffffff\"\n  )\nggp2_dnsty_2d_fill_lns +\n  labs_dnsty_2d"
  },
  {
    "objectID": "rela/hex_bins.html",
    "href": "rela/hex_bins.html",
    "title": "Hexagon bin map",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nHex-bins are a very similar to 2-D histograms, but instead of dividing the graph area into a grid, it’s divided into hexagons. The number of points inside each per hexagon determine it’s color."
  },
  {
    "objectID": "rela/hex_bins.html#getting-set-up",
    "href": "rela/hex_bins.html#getting-set-up",
    "title": "Hexagon bin map",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nWe’ll take the flipper_length_mm, bill_length_mm, bill_depth_mm, species, sex, and island variables from palmerpenguins::penguins and drop the missing values.\n\n\n\n\nCode\npenguins_hex <- palmerpenguins::penguins |> \n    dplyr::select(flipper_length_mm, bill_depth_mm,\n        bill_length_mm, species, sex, island) |> \n    tidyr::drop_na()\nglimpse(penguins_hex)\n\n\nRows: 333\nColumns: 6\n$ flipper_length_mm <int> 181, 186, 195, 193, 190, 181, 195, 182, 191, 198, 18…\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 17.6, 21.2…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 41.1, 38.6…\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ sex               <fct> male, female, female, female, male, female, male, fe…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…"
  },
  {
    "objectID": "rela/hex_bins.html#the-grammar",
    "href": "rela/hex_bins.html#the-grammar",
    "title": "Hexagon bin map",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap bill_length_mm to the x and flipper_length_mm to the y\nAdd the geom_hex() layer\n\n\n\n\nCode\nlabs_hex <- labs(\n    title = \"Adult Foraging Penguins\", \n    subtitle = \"Near Palmer Station, Antarctica\", \n    x = \"Bill length (mm)\", \n    y = \"Flipper length (mm)\")\n# graph\nggp2_hex <- ggplot(data = penguins_hex, \n    aes(x = bill_length_mm, y = flipper_length_mm)) + \n    geom_hex()\n\nggp2_hex + \n    labs_hex\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/hex_bins.html#more-info",
    "href": "rela/hex_bins.html#more-info",
    "title": "Hexagon bin map",
    "section": "More info",
    "text": "More info\n\nBinsScaleOptions\n\n\n\nBINS:\n\n\nBelow we change the bins to 20 and 15 and save these layers as ggp2_hex_b20 and ggp2_hex_b15.\nDecreasing the number of bins increases the size of the hexagons (and makes them larger).\n\n\n\n\nCode\nggp2_hex_b20 <- ggplot(data = penguins_hex,\n    aes(x = bill_length_mm, y = flipper_length_mm)) +\n    geom_hex(bins = 20)\nggp2_hex_b20 +\n    labs_hex\nggp2_hex_b15 <- ggplot(data = penguins_hex,\n    aes(x = bill_length_mm, y = flipper_length_mm)) +\n    geom_hex(bins = 15)\nggp2_hex_b15 +\n    labs_hex\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSCALES:\n\n\n\n\nGet a full list of available color palette’s using hcl_palettes(type = \"sequential\")\n\n\nWe can adjust the color scale using scale_color_discrete_sequential() and setting aesthetics to \"fill\".\nIf the hexagons overlap, we can use the alpha to make them slightly transparent.\n\n\n\n\nCode\nlabs_hex2 <- labs(\n    title = \"Adult Foraging Penguins\", \n    subtitle = \"Near Palmer Station, Antarctica\", \n    x = \"Bill length (mm)\", \n    y = \"Flipper length (mm)\",\n    fill = \"Sex\")\nggplot(data = penguins_hex, \n    aes(x = bill_length_mm, \n        y = flipper_length_mm)) + \n    geom_hex(aes(fill = sex), \n             bins = 15, \n             alpha = 3/4) + \n    scale_color_discrete_sequential(\n        aesthetics = \"fill\", \n        rev = FALSE,\n        palette = \"Viridis\") +\n    labs_hex2\n\n\n\n\n\n\n\n\n\n\n\n\n\nOPTIONS:\n\n\n\nBins can be set with bins (a single number) or binwidth (a numeric vector of c(x, y))\n\nbinwidth allows us to manually adjust the size of the hexagons.\nlinewidth is also helpful when using alpha for overlapping values.\n\n\n\n\nCode\nlabs_hex3 <- labs(\n    title = \"Adult Foraging Penguins\", \n    subtitle = \"Near Palmer Station, Antarctica\", \n    x = \"Bill length (mm)\", \n    y = \"Flipper length (mm)\",\n    fill = \"Species\")\n\nggplot(data = penguins_hex, \n    aes(x = bill_length_mm, \n        y = flipper_length_mm, \n        fill = species)) + \n    geom_hex(binwidth = c(1.2, 4),\n        linewidth = 0.5, \n        alpha = 3/4,\n        color = \"#000000\") + \n    scale_color_discrete_sequential(\n        aesthetics = \"fill\", \n        palette = \"Dark Mint\") +\n    labs_hex3"
  },
  {
    "objectID": "rela/grouped_scatter_plots.html",
    "href": "rela/grouped_scatter_plots.html",
    "title": "Grouped Scatter-Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nGrouped scatter-plots display the relationships between two continuous variables across a third categorical variable.\nThe x and y position displays the relationship between the two continuous variables, and color is used to distinguish between the categorical levels."
  },
  {
    "objectID": "rela/grouped_scatter_plots.html#getting-set-up",
    "href": "rela/grouped_scatter_plots.html#getting-set-up",
    "title": "Grouped Scatter-Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "rela/grouped_scatter_plots.html#the-grammar",
    "href": "rela/grouped_scatter_plots.html#the-grammar",
    "title": "Grouped Scatter-Plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap bill_length_mm to the x axis\nMap flipper_length_mm to the y axis\nMap species to color inside the geom_point()\n\n\n\n\nCode\nlabs_grp_scatter <- labs(\n  title = \"Bill Length vs. Flipper Length\",\n  x = \"Bill Length (mm)\", \n  y = \"Flipper length (mm)\", \n  color = \"Species\")\n\nggp2_grp_scatter <- penguins |> \n  ggplot(\n    aes(x = bill_length_mm, \n        y = flipper_length_mm)) + \n  geom_point(aes(color = species)) \n\nggp2_grp_scatter + \n  labs_grp_scatter\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\nAdjust over-plotting with transparency (alpha)"
  },
  {
    "objectID": "rela/bins_2d.html",
    "href": "rela/bins_2d.html",
    "title": "2D Histograms",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nStandard histograms separate a variable’s values into discrete groups, or ‘bins,’ which are arranged in increasing order across the x axis. The y axis displays the frequency (or count) of values within each bin.\nVertical bars capture the variable’s distribution using the height of the bar to represent the number of values per ‘bin’, and the number of bars corresponds with the bin value (or ‘bin-width’).\nWhen we extend this display to two numerical/quantitative variables, the bins are used to divide the total graph area into a grid, and color is used to display the variation in frequency (or count) of both variable values that fall within each intersecting square."
  },
  {
    "objectID": "rela/bins_2d.html#getting-set-up",
    "href": "rela/bins_2d.html#getting-set-up",
    "title": "2D Histograms",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nWe’ll take the flipper_length_mm, bill_length_mm, and species variables from palmerpenguins::penguins and drop the missing values.\n\n\n\n\nCode\npenguins_2dhist <- palmerpenguins::penguins |> \n    dplyr::select(flipper_length_mm, bill_length_mm, \n                  sex, species, body_mass_g) |> \n    tidyr::drop_na()\nglimpse(penguins_2dhist)\n\n\nRows: 333\nColumns: 5\n$ flipper_length_mm <int> 181, 186, 195, 193, 190, 181, 195, 182, 191, 198, 18…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 41.1, 38.6…\n$ sex               <fct> male, female, female, female, male, female, male, fe…\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ body_mass_g       <int> 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3200, 3800…"
  },
  {
    "objectID": "rela/bins_2d.html#the-grammar",
    "href": "rela/bins_2d.html#the-grammar",
    "title": "2D Histograms",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap bill_length_mm to the x and flipper_length_mm to the y\nAdd the geom_bin2d() layer\n\n\n\n\nCode\nlabs_2dhist <- labs(\n    title = \"Adult Foraging Penguins\", \n    subtitle = \"Near Palmer Station, Antarctica\", \n    x = \"Bill length (mm)\", \n    y = \"Flipper length (mm)\")\n\nggp2_2dhist <- ggplot(data = penguins_2dhist, \n    mapping = aes(x = bill_length_mm, \n                  y = flipper_length_mm)) + \n    geom_bin2d()\n            \nggp2_2dhist + \n    labs_2dhist\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/bins_2d.html#more-info",
    "href": "rela/bins_2d.html#more-info",
    "title": "2D Histograms",
    "section": "More info",
    "text": "More info\n\nBinsScaleOptions\n\n\n\nBINS:\n\n\n\nThe value for bins will be vary depending on the variable values–there is no correct number. If the number of bins is too low, the density may hide important nuances between the variables. If the number of bins is too high, the noise might drown out the signal.\n\nBelow we change the bins to 15 and save this layer as ggp2_2dbins15:\n\n\n\n\nCode\nggp2_base <- ggplot(data = penguins_2dhist, \n    mapping = aes(x = bill_length_mm, \n                  y = flipper_length_mm)) \nggp2_2dbins15 <- ggp2_base + \n                    geom_bin2d(bins = 15) \nggp2_2dbins15 + \n     labs_2dhist \n\n\n\n\n\n\n\n\n\n\n\n\n\nSCALES:\n\n\nscale_fill_continuous_sequential() comes with a variety of palettes to choose from (run hcl_palettes(type = \"sequential\") to view the full list).\nWe can also reverse the order of the fill color scale with rev (TRUE or FALSE).\n\n\n\n\nCode\nggp2_2dbins15 + \n    scale_fill_continuous_sequential(\n        palette = \"Mako\", \n        rev = TRUE) +\n    labs_2dhist \nggp2_2dbins15 + \n    scale_fill_continuous_sequential(\n        palette = \"Mako\", \n        rev = FALSE) +\n    labs_2dhist \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOPTIONS:\n\n\n\nIf you set the point shape to 21, you have control over both color and fill.\n\nIn the previous example we showed how to reverse the color scale for the palette in scale_fill_continuous_sequential(). Below we reverse the color scale, but also manually set which colors on the scale we want to begin with (i.e., smallest data value) and which color we want to end with (i.e., the largest data value). Possible values range from 0 - 1.\nWe also add a geom_point() layer.\n\n\n\n\nCode\nggp2_2dbins15 + \n    scale_fill_continuous_sequential(\n        palette = \"SunsetDark\",\n        rev = TRUE,\n        begin = 0.7, end = 0.2) +\n    geom_point(color = \"#007bff\",\n        fill = \"#FFFFFF\", shape = 21,\n        size = 2.2, alpha = 0.75) +\n    labs_2dhist"
  },
  {
    "objectID": "rela/grouped_bubble_charts.html",
    "href": "rela/grouped_bubble_charts.html",
    "title": "Grouped Bubble Graph",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nGrouped bubble graphs use position, color, and size to display the relationships between four variables (three numerical/quantitative, one categorical).\nThe position on the x and y axis captures the relationship between two numerical variables. The size and color of the points display a third numerical variable across the levels of a (fourth) categorical variable."
  },
  {
    "objectID": "rela/grouped_bubble_charts.html#getting-set-up",
    "href": "rela/grouped_bubble_charts.html#getting-set-up",
    "title": "Grouped Bubble Graph",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nThe penguins data\n\n\n\n\nCode\npenguins <- palmerpenguins::penguins\nglimpse(penguins)\n\n\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "rela/grouped_bubble_charts.html#the-grammar",
    "href": "rela/grouped_bubble_charts.html#the-grammar",
    "title": "Grouped Bubble Graph",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap bill_length_mm to the x axis and flipper_length_mm to the y axis\nInside geom_point()\n\nmap body_mass_g to size and species to fill\n\nset the alpha to 2/3\n\nIn the scale_size()\n\nset range to c(.04, 6)\n\n\n\n\n\nCode\nlabs_grp_bubble <- labs(\n  title = \"Bill Length vs. Flipper Length\",\n  x = \"Bill Length (mm)\", \n  y = \"Flipper length (mm)\", \n  size = \"Body Mass\", \n  fill = \"Species\")\n\nggp2_grp_bubble <- penguins |> \n  ggplot(aes(\n    x = bill_length_mm, y = flipper_length_mm)) + \n  geom_point(\n    aes(size = body_mass_g, \n        color = species), \n            alpha = 2/3) + \n  scale_size(range = c(.04, 6)) \n\nggp2_grp_bubble + \n  labs_grp_bubble\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "rela/grouped_bubble_charts.html#more-info",
    "href": "rela/grouped_bubble_charts.html#more-info",
    "title": "Grouped Bubble Graph",
    "section": "More info",
    "text": "More info\nWe can change the shape of the points for more control of the color and fill.\n\nShapeColor\n\n\n\nSHAPE:\n\n\nInside geom_point(), we can set shape to 21, and color to \"#000000\" to outline the points in black\n\n\n\n\nCode\nggp2_grp_bubble_s21 <- penguins |> \n  ggplot(aes(\n    x = bill_length_mm, y = flipper_length_mm)) + \n  geom_point(\n    aes(size = body_mass_g, fill = species), \n        alpha = 2/3, shape = 21, color = \"#000000\") + \n  scale_size(range = c(.04, 6)) \n\nggp2_grp_bubble_s21 + \n  labs_grp_bubble\n\n\n\n\n\n\n\n\n\n\n\n\n\nCOLOR:\n\n\nInside the aes() of geom_point(), we can set shape to 21, and map color to \"species\" to outline the points in the same colors as fill\n\n\n\n\nCode\nggp2_grp_bubble_s21_color <- penguins |> \n  ggplot(aes(\n    x = bill_length_mm, y = flipper_length_mm)) + \n  geom_point(\n    aes(size = body_mass_g, \n        fill = species, \n        color = species), \n        alpha = 2/3, shape = 21) + \n  scale_size(range = c(.04, 6)) \n\nggp2_grp_bubble_s21_color + \n  labs_grp_bubble"
  },
  {
    "objectID": "prp/stacked_filled_density_graphs.html",
    "href": "prp/stacked_filled_density_graphs.html",
    "title": "Stacked densities",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nDensity graphs are typically used to visualize the distribution of a single variable, but stacked density graphs are great for visualizing how proportions vary across numeric (continuous) variables."
  },
  {
    "objectID": "prp/stacked_filled_density_graphs.html#getting-set-up",
    "href": "prp/stacked_filled_density_graphs.html#getting-set-up",
    "title": "Stacked densities",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"palmerpenguins\")\nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nRemove missing sex from the penguins data\n\n\n\n\nCode\npeng_density <- filter(palmerpenguins::penguins, !is.na(sex))\nglimpse(peng_density)\n\n\nRows: 333\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 41.1, 38.6…\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 17.6, 21.2…\n$ flipper_length_mm <int> 181, 186, 195, 193, 190, 181, 195, 182, 191, 198, 18…\n$ body_mass_g       <int> 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3200, 3800…\n$ sex               <fct> male, female, female, female, male, female, male, fe…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…"
  },
  {
    "objectID": "prp/stacked_filled_density_graphs.html#the-grammar",
    "href": "prp/stacked_filled_density_graphs.html#the-grammar",
    "title": "Stacked densities",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap the flipper_length_mm to the x and add after_stat(count)\nMap sex to fill\nInside the geom_density() function, set position to \"fill\"\n\n\n\n\nCode\nlabs_fill_density <- labs(\n  title = \"Adult foraging penguins\",\n  x = \"Flipper length (millimeters)\",\n  fill = \"Sex\")\nggp2_fill_density <- ggplot(data = peng_density, \n       aes(x = flipper_length_mm, \n           after_stat(count),\n          fill = sex)) +\n      geom_density(position = \"fill\") \nggp2_fill_density + \n  labs_fill_density\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "prp/pie_charts.html",
    "href": "prp/pie_charts.html",
    "title": "Pie Charts",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\n“In general, pie charts work well when the goal is to emphasize simple fractions, such as one-half, one-third, or one-quarter.”\n“They also work well when we have very small datasets.” - Claus O. Wilke, Fundamentals of Data Visualization (2019)\nPie-charts are ideal for comparing the proportions of categorical variable values, and we can build pie-charts using the ggpubr package."
  },
  {
    "objectID": "prp/pie_charts.html#getting-set-up",
    "href": "prp/pie_charts.html#getting-set-up",
    "title": "Pie Charts",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"ggpubr\")\nlibrary(ggpubr)\ninstall.packages(\"ggplot2movies\")\nlibrary(ggplot2movies) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\n\n\nRemove the missing values and \"NC-17\" from mpaa and summarise the count and percent.\n\n\n\n\nCode\nmovie_pie <- ggplot2movies::movies |>\n  filter(mpaa != \"\" & mpaa != \"NC-17\") |> \n  group_by(mpaa) |> \n  summarise(cnt = n()) |> \n  mutate(\n    perc = round(cnt / sum(cnt), 3),\n    mpaa = factor(mpaa, \n          levels = c(\"PG\", \"PG-13\", \"R\")))\nglimpse(movie_pie)\n\n\nRows: 3\nColumns: 3\n$ mpaa <fct> PG, PG-13, R\n$ cnt  <int> 528, 1003, 3377\n$ perc <dbl> 0.108, 0.204, 0.688"
  },
  {
    "objectID": "prp/pie_charts.html#the-grammar",
    "href": "prp/pie_charts.html#the-grammar",
    "title": "Pie Charts",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nAssign \"perc\" to x\nAssign labs to label\nAssign \"in\" to lab.pos\nAssign \"white\" to lab.font and color\nAssign \"mpaa\" to fill\nRemove legend with theme(legend.position = \"none\")\n\n\n\n\nCode\nlabs <- paste0(movie_pie$mpaa, \" (\", \n               (100*movie_pie$perc), \"%)\")\nlabs_pie <- labs(\n  title = \"Percent MPAA ratings for IMDB movies\",\n  x = \"Percent MPAA rating\")\n\nggp2_pie <- ggpubr::ggpie(movie_pie, \n          x = \"perc\", label = labs, \n          lab.pos = \"in\", lab.font = \"#ffffff\",\n          fill = \"mpaa\", color = \"#ffffff\") + \n    theme(legend.position = \"none\")  \n    \nggp2_pie + \n  labs_pie\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "prp/treemaps.html",
    "href": "prp/treemaps.html",
    "title": "Treemaps",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nTreemaps display proportionally divided rectangular hierarchies for levels of categorical variables. The layout consists of ‘squarified’ tiles, which display the relative contribution of each categorical value to the overall graph space.\nWe’ll build a treemap using the treemapify package. Also check out mosaic plots."
  },
  {
    "objectID": "prp/treemaps.html#getting-set-up",
    "href": "prp/treemaps.html#getting-set-up",
    "title": "Treemaps",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ndevtools::install_github(\"wilkox/treemapify\")\ninstall.packages(\"palmerpenguins\")\nlibrary(treemapify) \nlibrary(palmerpenguins)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\nArtwork by @allison_horst\n\n\n\nFilter the missing values from sex, group the data by species, island, and sex, then count the species and island (then ungroup()).\n\n\n\n\nCode\ntreemap_peng <- penguins |> \n    dplyr::select(species, island, sex) |>\n    tidyr::drop_na() |>\n    dplyr::group_by(species, island, sex) |>\n    dplyr::count(species, island, sex) |>\n    ungroup()\nglimpse(treemap_peng)\n\n\nRows: 10\nColumns: 4\n$ species <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Chinstrap, Chi…\n$ island  <fct> Biscoe, Biscoe, Dream, Dream, Torgersen, Torgersen, Dream, Dre…\n$ sex     <fct> female, male, female, male, female, male, female, male, female…\n$ n       <int> 22, 22, 27, 28, 24, 23, 34, 34, 58, 61"
  },
  {
    "objectID": "prp/treemaps.html#the-grammar",
    "href": "prp/treemaps.html#the-grammar",
    "title": "Treemaps",
    "section": "The grammar",
    "text": "The grammar\n\nBasic TreemapSubgroupSubgroup 2\n\n\n\nBASIC TREEMAP:\n\n\nCreate labels\n\nMap the n to area, sex to fill and label, species to subgroup, and island to subgroup2\nAdd geom_treemap()\nAdd geom_treemap_text()\n\nplace: this controls where the boxes start\n\ncolor: text color\n\nmin.size: the minimum font size (when re-sizing)\n\nalpha: opacity\n\nfontface: itlalic/bond\n\nfamily: \"sans\"/\"sansserif\"/\"mono\"\n\n\n\n\n\n\nCode\nlabs_treemap <- labs(\n  title = \"Species, island, and sex of adult penguins\",\n    fill = \"Sex\")\nggp2_treemap <- ggplot(treemap_peng, \n       aes(area = n, \n           fill = sex, \n           label = sex,\n           subgroup = species,\n           subgroup2 = island)) +\n       treemapify::geom_treemap() +\n       treemapify::geom_treemap_text(\n           place = \"bottomright\",\n           color = \"#d0d0d0\",\n           min.size = 0,\n           alpha = 0.90,\n           fontface = \"italic\",\n           family = \"sans\") \nggp2_treemap + \n  labs_treemap\n\n\n\n\n\n\n\n\n\n\n\n\n\nSUBGROUP:\n\n\nggplot2 build layers in the order they’re written, so it’s advised to build the subgroups in order from “from deepest to shallowest”, with subgroups2 first (ending on subgroup)\n\nAdd geom_treemap_subgroup2_border()\n\nSet the size and color\n\nAdd geom_treemap_subgroup2_text()\n\nplace: this controls where the boxes start\n\ncolor: text color\n\nmin.size: the minimum font size (when re-sizing)\n\nalpha: opacity\n\nfontface: itlalic/bond\n\nfamily: \"sans\"/\"sansserif\"/\"mono\"\n\n\nSee full list of arguments here.\n\n\n\n\nCode\nggp2_tm_subgroup <- ggp2_treemap +\n    treemapify::geom_treemap_subgroup2_border(\n           color = \"#282b2d\",\n           size = 4.0) + \n       treemapify::geom_treemap_subgroup2_text(\n           place = \"center\",\n           alpha = 0.65,\n           color = \"#282b2d\",\n           min.size = 0,\n           family = \"sans\")\nggp2_tm_subgroup +\n  labs_treemap\n\n\n\n\n\n\n\n\n\n\n\n\n\nSUBGROUP 2:\n\n\nAdd geom_treemap_subgroup_border()\n\nSet the size and color\n\nAdd geom_treemap_subgroup_text()\n\nplace: this controls where the boxes start\n\ncolor: text color\n\nmin.size: the minimum font size (when re-sizing)\n\nalpha: opacity\n\nfontface: itlalic/bond\n\nfamily: \"sans\"/\"sansserif\"/\"mono\"\n\n\n\n\n\nCode\nggp2_tm_subgroup2 <- ggp2_tm_subgroup + \n       treemapify::geom_treemap_subgroup_border(\n           color = \"#ffffff\", \n           size = 4) + \n       treemapify::geom_treemap_subgroup_text(\n           place = \"topleft\",\n           alpha = 0.65,\n           grow = TRUE,\n           color = \"#ffffff\",\n           min.size = 0,\n           family = \"mono\",\n           fontface = \"bold\")\n\nggp2_tm_subgroup2 + \n  labs_treemap"
  },
  {
    "objectID": "prp/diverging_bar_graphs.html",
    "href": "prp/diverging_bar_graphs.html",
    "title": "Diverging Bar-graphs",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nIf you have two proportions that contain positive and negative values, consider using diverging bars with geom_bar().\nUnlike a standard or stacked bar graphs, diverging bar graphs display positive and negative quantities on both sides of a reference or baseline value (zero in this example). Color, length and position are used to compare the quantities across categorical levels (and within variable values).\n\n\n\n\n\n\n\n\n\nFor example, we can use the length of the bar from the reference line to compare disapproval estimates across all months (i.e., comparing red bars to each other).\n\n\n\n\n\n\n\n\n\nWe can also compare approval vs. disapproval for each month (i.e., compare the blue vs. red bars to each other within each month)."
  },
  {
    "objectID": "prp/diverging_bar_graphs.html#getting-set-up",
    "href": "prp/diverging_bar_graphs.html#getting-set-up",
    "title": "Diverging Bar-graphs",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"fivethirtyeight\")\nlibrary(fivethirtyeight) \nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\n\n\nCreate trump_approval_diverg from the trump_approval_trend dataset in the fivethirtyeight package.\n\n\n\n\nCode\nfivethirtyeight::trump_approval_trend |> \n  dplyr::filter(subgroup == \"All polls\") |> \n  dplyr::mutate(\n    month = lubridate::month(modeldate,\n                label = TRUE, abbr = TRUE),\n    approve = approve_estimate*0.01,\n    disapprove = disapprove_estimate*0.01,\n    disapprove = disapprove * -1) |> \n  tidyr::pivot_longer(cols = c(approve, disapprove), \n    names_to = \"poll\", values_to = \"values\") |> \n  dplyr::group_by(month, poll) |> \n    dplyr::summarise(\n      month_avg = mean(values, na.rm = TRUE)\n    ) |> \n  dplyr::ungroup() -> trump_approval_diverg\nglimpse(trump_approval_diverg)\n\n\nRows: 24\nColumns: 3\n$ month     <ord> Jan, Jan, Feb, Feb, Mar, Mar, Apr, Apr, May, May, Jun, Jun, …\n$ poll      <chr> \"approve\", \"disapprove\", \"approve\", \"disapprove\", \"approve\",…\n$ month_avg <dbl> 0.4029758, -0.5234634, 0.4226055, -0.5158645, 0.4182011, -0.…\n\n\nCode\nglimpse(trump_approval_diverg)\n\n\nRows: 24\nColumns: 3\n$ month     <ord> Jan, Jan, Feb, Feb, Mar, Mar, Apr, Apr, May, May, Jun, Jun, …\n$ poll      <chr> \"approve\", \"disapprove\", \"approve\", \"disapprove\", \"approve\",…\n$ month_avg <dbl> 0.4029758, -0.5234634, 0.4226055, -0.5158645, 0.4182011, -0.…"
  },
  {
    "objectID": "prp/diverging_bar_graphs.html#the-grammar",
    "href": "prp/diverging_bar_graphs.html#the-grammar",
    "title": "Diverging Bar-graphs",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap the month to the x and month_avg to the y\nInsidegeom_bar()\n\nmap poll to fill\nuse stat = \"identity\" and width = .5\n\nAdd scale_y_continuous() to manually set the limits and format the axis with scales::percent\n\n\n\n\nCode\nlabs_geom_bar_diverg <- labs(\n  title = \"Trump Approval Ratings\",\n  subtitle = \"From 'How Popular is Donald Trump'\",\n  x = \"Month\",\n  y = \"Monthly average percent\",\n  fill = \"Estimate\")\nggp2_bars_diverg <- ggplot(\n  data = trump_approval_diverg, \n    aes(x = month, y = month_avg)) +\n  geom_bar(aes(fill = poll),\n    stat = \"identity\", width = .5) + \n  scale_y_continuous(limits = c(-1, 1), \n    labels = scales::percent) \n\nggp2_bars_diverg + \n  labs_geom_bar_diverg\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "prp/diverging_bar_graphs.html#vertical-diverging-bar-graphs",
    "href": "prp/diverging_bar_graphs.html#vertical-diverging-bar-graphs",
    "title": "Diverging Bar-graphs",
    "section": "Vertical diverging Bar-graphs",
    "text": "Vertical diverging Bar-graphs\nFor vertically arranged bars, we switch the x and y axis variables.\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\nMap the month_avg to the x and month to the y\nInside geom_bar()\n\nmap poll to fill\nuse stat = \"identity\" and width = .5\n\nAdd scale_y_continuous() to manually set the limits and format the axis with scales::percent\n\n\n\n\nCode\nlabs_geom_bar_diverg_vert <- labs(\n  title = \"Trump Approval Ratings\",\n  subtitle = \"From 'How Popular is Donald Trump'\",\n  x = \"Monthly average percent\",\n  y = \"Month\",\n  fill = \"Estimate\")\nggp2_bar_diverg_vert <- ggplot(\n  data = trump_approval_diverg,\n      aes(x = month_avg, y =  month)) +\n  geom_bar(\n      aes(fill = poll), \n        stat = \"identity\", width = .5) + \n  scale_x_continuous(limits = c(-1, 1), \n        labels = scales::percent)\nggp2_bar_diverg_vert + \n  labs_geom_bar_diverg_vert\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "prp/stream_plots.html",
    "href": "prp/stream_plots.html",
    "title": "Stream plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nStream graphs display how a numerical variable (typically on the y axis) changes over time (on the x axis) across levels of a categorical variable. These graphs are handy if the numerical value varies wildly (or isn’t always present) over the time measurement.\nCategorical groups are differentiated by color layers, with the area of the layer representing the change in y value. In ggplot2, we can create stream graphs using ggstream."
  },
  {
    "objectID": "prp/stream_plots.html#getting-set-up",
    "href": "prp/stream_plots.html#getting-set-up",
    "title": "Stream plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\nremotes::install_github(\"davidsjoberg/ggstream\")\ninstall.packages(\"ggplot2movies\")\nlibrary(ggstream)\nlibrary(ggplot2movies)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\n\n\nWe’re going to use only the mpaa, year, and budget columns from ggplot2movies::movies, then drop all missing values (we have to remove special missing characters from mpaa).\nWe’ll then convert mpaa to an ordered factor, then group by year and mpaa to calculate the average budget and filter to only those movies after 1984.\n\n\n\n\nCode\nmovies_stream <- ggplot2movies::movies |> \n    dplyr::select(mpaa, year, budget) |> \n    tidyr::drop_na() |> \n    dplyr::filter(mpaa != \"\") |> \n    dplyr::mutate(mpaa = factor(mpaa, \n                            levels = c(\"NC-17\", \"R\", \n                                       \"PG-13\", \"PG\"), \n                            ordered = TRUE)) |> \n    dplyr::group_by(year, mpaa) |> \n    dplyr::summarise(\n        avg_budget = mean(budget, na.rm = TRUE)) |> \n    dplyr::ungroup() |> \n    dplyr::filter(year > 1984)\ndplyr::glimpse(movies_stream)\n\n\nRows: 47\nColumns: 3\n$ year       <int> 1986, 1989, 1989, 1990, 1991, 1991, 1992, 1993, 1993, 1994,…\n$ mpaa       <ord> R, R, PG-13, R, R, PG, R, R, PG-13, R, PG-13, PG, NC-17, R,…\n$ avg_budget <dbl> 17250000, 787000, 39250000, 3866667, 35750000, 300000, 1475…"
  },
  {
    "objectID": "prp/stream_plots.html#the-grammar",
    "href": "prp/stream_plots.html#the-grammar",
    "title": "Stream plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraph\n\n\n\nCODE:\n\n\nCreate labels\n\nuse paste0() in the subtitle to automatically update the year when the movies_stream changes\n\nMap year to the x, avg_budget to y, and mpaa to fill\nAdd the geom_stream() layer\nAdjust the y axis with scale_y_continuous() and scales::dollar\n\n\n\n\nCode\nlabs_stream <- labs(\n    title = \"20 years of movie budgets\", \n    subtitle = \n        paste0(\"movies between\", \n            min(movies_stream$year), \n            \" and \", \n            max(movies_stream$year)),\n    x = \"Year\", \n    y = \"Average Movie Budget\")\n\nggp2_stream <- ggplot(data = movies_stream, \n    mapping = aes(x = year, \n                  y = avg_budget, \n                  fill = mpaa)) + \n    ggstream::geom_stream() + \n    scale_y_continuous(labels = scales::dollar)\nggp2_stream + \n    labs_stream\n\n\n\n\n\n\n\n\n\nGRAPH:"
  },
  {
    "objectID": "prp/stream_plots.html#more-info",
    "href": "prp/stream_plots.html#more-info",
    "title": "Stream plots",
    "section": "More info",
    "text": "More info\nThe ggstream package has multiple arguments for adjusting the shape and look of the categorical levels (and text labels).\n\nTypeSorting\n\n\n\nTYPE:\n\n\nMap mpaa to fill (wrapped in forcats::fct_rev())\nWe can adjust the look of the graph by setting the type argument in geom_stream()\n\ntype: change type from \"mirror\" (the default) to \"proportional\"\n\nAdjust colors:\n\nscale_fill_manual(): Add colors as a named vector to values\n\n\n\n\n\nCode\nggp2_stream_prp <- ggplot(data = movies_stream, \n    mapping = aes(x = year, \n                  y = avg_budget, \n                  fill = forcats::fct_rev(mpaa))) + \n    ggstream::geom_stream(type = \"proportional\") + \n    scale_y_continuous(labels = scales::percent) + \n  scale_fill_manual(\n      values = c(\"PG-13\" = \"#0bd3d3\", \n                 \"PG\" = \"#f890e7\", \n                 \"R\" = \"#fa7b3c\", \n                 \"NC-17\" = \"#772953\"))\nggp2_stream_prp + \n    labs_stream + \n    labs(fill = \"mpaa\")\n\n\n\n\n\n\n\n\n\n\n\n\n\nSORTING:\n\n\nTo change how the categorical areas are sorted, adjust the sorting argument to either \"none\", \"onset\", or \"inside_out\"\n\nsorting: set the sorting method to \"inside_out\" in both ggstream::geom_stream() and ggstream::geom_stream_label()\n\ntype: change the type to \"ridge\" in both ggstream::geom_stream() and ggstream::geom_stream_label()\n\nWe can also add text labels using ggstream::geom_stream_label():\n\nMap mpaa (wrapped in forcats::fct_rev()) to label globally\n\nInside ggstream::geom_stream_label():\n\nset color to white (\"#ffffff\") and the size to 2.7\n\nRemove the legend with show.legend = FALSE\n\n\nColors:\n\nUse scale_colour_manual() and scale_fill_manual() to manually set the values using a named vector\n\nFinally, change the y axis to US dollars using scale_y_continuous() and scales::dollar\n\n\n\n\nCode\nggp2_stream_srt <- ggplot(data = movies_stream, \n    mapping = aes(x = year, \n                  y = avg_budget, \n                  fill = fct_rev(mpaa),\n                  label = fct_rev(mpaa))) + \n    ggstream::geom_stream(\n        type = \"ridge\", \n        sorting = \"inside_out\") + \n    ggstream::geom_stream_label(\n        type = \"ridge\", \n        sorting = \"inside_out\", \n        color = \"#ffffff\", \n        size = 2.7,\n        show.legend = FALSE) +\n    scale_colour_manual(\n      values = c(\"PG-13\" = \"#0bd3d3\", \n                 \"PG\" = \"#f890e7\", \n                 \"R\" = \"#fa7b3c\", \n                 \"NC-17\" = \"#772953\")) +\n    scale_fill_manual(\n      values = c(\"PG-13\" = \"#0bd3d3\", \n                 \"PG\" = \"#f890e7\", \n                 \"R\" = \"#fa7b3c\", \n                 \"NC-17\" = \"#772953\")) + \n    scale_y_continuous(labels = scales::dollar) \n    \nggp2_stream_srt + \n    labs_stream + \n    labs(fill = \"mpaa\")"
  },
  {
    "objectID": "prp/mosaic_plot.html",
    "href": "prp/mosaic_plot.html",
    "title": "Mosaic Plots",
    "section": "",
    "text": "Graph info\n\n\n\n\n\n\nShould I use this graph?\n\n\n\n\n\n\n\n\n\n\n\nA mosaic plot is similar to a stacked bar-graph, but instead of only relying on height and color to display the relative amount for each value, mosaic plots also use width.\nMosaic plot legends should be positioned on top or bottom and justified horizontally to preserve shape and improve readability.\nWe can build mosaic plots using the ggmosaic package."
  },
  {
    "objectID": "prp/mosaic_plot.html#getting-set-up",
    "href": "prp/mosaic_plot.html#getting-set-up",
    "title": "Mosaic Plots",
    "section": "Getting set up",
    "text": "Getting set up\n\nPackagesData\n\n\n\nPACKAGES:\n\n\nInstall packages.\n\n\n\n\nCode\ninstall.packages(\"fivethirtyeight\")\nlibrary(fivethirtyeight) \ndevtools::install_github(\"haleyjeppson/ggmosaic\")\nlibrary(ggmosaic)\nlibrary(ggplot2)\n\n\n\n\n\n\nDATA:\n\n\n\n\n\n\n\n\n\nFor this graph, we’ll be using the fivethirtyeight::flying dataset, after removing the missing values from baby, recline_rude, and unruly_child.\n\n\n\n\nCode\nfly_mosaic <- fivethirtyeight::flying |> \n                dplyr::select(baby, unruly_child, recline_rude) |> \n                tidyr::drop_na()\nglimpse(fly_mosaic)\n\n\nRows: 849\nColumns: 3\n$ baby         <ord> No, Somewhat, Somewhat, Somewhat, Very, No, Somewhat, Ver…\n$ unruly_child <ord> No, Very, Very, Very, Very, Somewhat, Very, Very, Very, V…\n$ recline_rude <ord> Somewhat, No, No, No, No, Somewhat, No, Very, No, Somewha…"
  },
  {
    "objectID": "prp/mosaic_plot.html#the-grammar",
    "href": "prp/mosaic_plot.html#the-grammar",
    "title": "Mosaic Plots",
    "section": "The grammar",
    "text": "The grammar\n\nCodeGraphDetails\n\n\n\nCODE:\n\n\nCreate labels\nMap the product() of unruly_child and baby to the x axis\nMap baby to fill\nAdd theme_mosaic()\nMove the legend to the bottom with theme(legend.position = \"bottom\")\n\n\n\n\nCode\nlabs_mosaic <- labs(\n      title = \"In general...\", \n      subtitle = \"...is it rude to...\",\n      x = \"... bring a baby on a plane?\",\n      y = \"...knowingly bring unruly children on a plane?\",\n      fill = \"Response\") \nggp2_mosaic <- ggplot(data = fly_mosaic) +\n   ggmosaic::geom_mosaic(mapping = \n          aes(x = product(unruly_child, baby), \n              fill = baby)) + \n    ggmosaic::theme_mosaic(base_size = 10) + \n    theme(legend.position = \"bottom\")\nggp2_mosaic + \n    labs_mosaic\n\n\n\n\n\n\n\n\n\nGRAPH:\n\n\n\n\n\n\n\n\n\n\n\n\n\nDETAILS:\n\n\nWe’ve re-written the labels for the mosaic plot (ggp2_mosaic) to illustrate what’s happening in the aes() of geom_mosaic().\n\n\n\n\nIt’s a good idea to adjust the fig-height and fig-width of your graph\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n  \n    unruly_child \n    No \n    Somewhat \n    Very \n  \n \n\n  \n    Very \n    152 \n    125 \n    74 \n  \n  \n    Somewhat \n    296 \n    54 \n    1 \n  \n  \n    No \n    144 \n    3 \n     \n  \n\n\n\n\n\n\n\n\nThe table above displays the counts for each combined response. As we can see, the counts are represented by height and width in the graph."
  },
  {
    "objectID": "prp/mosaic_plot.html#more-info",
    "href": "prp/mosaic_plot.html#more-info",
    "title": "Mosaic Plots",
    "section": "More info",
    "text": "More info\nI recommend reading the ggmosaic vignette, particularly the sections on ordering and conditioning.\n\nTwo variablesFacets\n\n\n\nTWO VARIABLES:\n\n\nBelow is another example of a two-variable mosaic plot, mapping the product() variables as unruly_child and recline_rude, and the fill variable as recline_rude.\nOnce again we can see the counts for each category in the cross-tabulation:\n\n\n\n\n\n\n\n \n  \n    unruly_child \n    No \n    Somewhat \n    Very \n  \n \n\n  \n    Very \n    193 \n    119 \n    39 \n  \n  \n    Somewhat \n    204 \n    123 \n    24 \n  \n  \n    No \n    102 \n    38 \n    7 \n  \n\n\n\n\n\n\n\n\nCode\n# build 2-variable mosiac plot\nlabs_mosaic_2var <- labs(\n  title = \"In general...is it rude to...\", \n  subtitle = \"2-Variable plot\",\n  x = \"... recline your seat on a plane?\",\n  y = \"...knowingly bring unruly children on a plane?\",\n  fill = \"recline_rude responses\")\n\nggp2_mosaic_2var <- ggplot(data = fly_mosaic) +\n  geom_mosaic(aes(\n    x = product(unruly_child, recline_rude),\n    fill = recline_rude)) +\n  ggmosaic::theme_mosaic(base_size = 10) + \n  theme(legend.position = \"bottom\")\n  \nggp2_mosaic_2var + \n    labs_mosaic_2var\n\n\n\n\n\n\n\n\n\n\n\nFor conditional variables, we map the product() variable as unruly_child and the fill variable as baby, but include a conds variable (as product(recline_rude)).\n\n\n\n\nCode\n# build conditional mosiac plot\nlabs_mosaic_cond <- labs(\n  title = \"In general...is it rude to...\", \n  subtitle = \"Conditional plot\",\n  x = \"...recline your seat on a plane?\",\n  y = \"...knowingly bring unruly children on a plane?\",\n  fill = \"unruly_child responses\")\nggp2_mosaic_cond <- ggplot(data = fly_mosaic) +\n  geom_mosaic(aes(\n    x = product(unruly_child), # product variable\n    fill = unruly_child,\n    conds = product(recline_rude))) + # conditional variable\n  ggmosaic::theme_mosaic(base_size = 10) + \n  theme(legend.position = \"bottom\")\n\nggp2_mosaic_cond + \n    labs_mosaic_cond\n\n\n\n\n\n\n\n\n\n\n\n\n\nFACETS:\n\n\nAnother option for including a conditioning variable is including facets. In the example below we use recline_rude in both x and fill (we don’t need to wrap recline_rude in product() because it’s the only variable).\nThe divider argument let’s us control the spine partitions (vertically and horizontally). Below are the two vertical orientation options for the divider argument.\n\n\n\n\n\n\n\n\n\n\n\nThe two horizontal orientation options make the axis text harder to read, so these need to be manipulated manually."
  }
]